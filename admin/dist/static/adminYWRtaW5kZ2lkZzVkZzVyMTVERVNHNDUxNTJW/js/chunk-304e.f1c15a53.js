(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-304e"],{"2cRn":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return o}),n.d(e,"e",function(){return r}),n.d(e,"b",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"f",function(){return d});var a=n("t3Un");function i(t){return Object(a.a)({url:"/api/v1/common/admin/vpn/"+t+"/vpn/join",method:"post"})}function s(t){return Object(a.a)({url:"/api/v1/common/admin/vpn/"+t+"/vpn_server/deploy",method:"post"})}function o(t){return Object(a.a)({url:"/api/v1/common/admin/vpn/"+t+"/vpn_ca/deploy",method:"post"})}function r(t){return Object(a.a)({url:"/api/v1/common/admin/vpn/"+t+"/vpn_server/deploy",method:"delete"})}function l(t){return Object(a.a)({url:"/api/v1/common/admin/vpn/"+t+"/server/list",method:"get"})}function c(t,e){return Object(a.a)({url:"/api/v1/common/admin/vpn/"+t+"/user/list",method:"get",params:e})}function u(t,e){return Object(a.a)({url:"/api/v1/common/admin/vpn/"+t+"/vpn_server/deploy",method:"get",params:e})}function d(t,e){return Object(a.a)({url:"/api/v1/common/admin/vpn/"+t+"/vpn_reset/"+e+"/deploy",method:"post"})}},"6DOF":function(t,e,n){"use strict";var a=n("nMsD");n.n(a).a},"6XEp":function(t,e,n){"use strict";n.r(e);var a=n("uTCP"),i=n("RTHQ"),s=n("2cRn"),o={name:"MatchStatus",components:{QuillEditor:a.a},data:function(){return{matchStatus:{1:"未开始",2:"暂停中",3:"进行中",4:"已结束"},id:this.$route.query.id,formData:{process:"",start_time:"",end_time:"",deploy_status:"",status:"",event_mode:"",vpn_status:"",vpn_deploy_status:"",vpn_join:"",entity_status:""},progressData:{message:[],status:"",progress:0},timer:null,vpn:1}},computed:{description:{get:function(){return this.progressData.message.join("\n")},set:function(t){this.progressData.message=t?t.split("\n"):[]}}},created:function(){this.getList()},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},methods:{handleRemovevpnDeploy:function(){var t=this;this.$confirm("确定回收VPN吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.e)(t.$route.query.id).then(function(e){e.data.success&&(t.$message.success("回收成功"),t.getList())})}).catch(function(){t.$message({type:"info",message:"已取消回收"})})},handlevpnDeploy:function(){var t=this;Object(s.g)(this.$route.query.id).then(function(e){e.data.success&&(t.matchInfo.vpn_deploy_status=!1,t.$message.success("部署成功"),t.getList())})},handleApply:function(){var t=this;Object(s.h)(this.$route.query.id).then(function(e){e.data.success&&(t.$message.success("证书申请成功"),t.getList())})},vpnfun:function(){var t=this;Object(s.a)(this.$route.query.id,this.formData.vpn_status).then(function(e){e.data.success&&t.getList()})},changeVpn:function(t){var e=this;Object(i.b)({event_id:this.id},{action:t}).then(function(t){t.data.success&&e.$message.success("操作成功"),e.getList()})},flagControl:function(){var t=this;Object(i.s)({event_id:this.id}).then(function(e){e.data.success&&t.$message.success("操作成功")})},intRuleControl:function(){var t=this;Object(i.Z)({event_id:this.id}).then(function(e){e.data.success&&t.$message.success("操作成功")})},getList:function(){var t=this;Object(i.n)(this.id).then(function(e){var n=e.data;for(var a in t.formData)t.formData[a]=n[a];1==n.deploy_status&&(t.progressData.progress=n.progress),t.progressData.status=n.deploy_status})},handleOperation:function(t,e){var n=this;this.$confirm("确定要"+e+"吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.l)({event_id:n.id},{action:t}).then(function(t){n.handleRes(t,function(){n.getList()})})}).catch(function(){n.$message({type:"info",message:"已取消"})})},getProgress:function(){var t=this,e={event_id:this.id};Object(i.f)(e).then(function(e){var n=e.data;if(n.success){for(var a in t.progressData)t.progressData[a]=n[a];n.progress>=100&&(clearInterval(t.timer),t.getList())}})},progressInterval:function(){var t=this;this.getProgress(),this.timer&&clearInterval(this.timer),this.timer=setInterval(function(){t.getProgress()},5e3)},handleDeploy:function(){var t=this,e={event_id:this.id};Object(i.db)(e).then(function(e){t.handleRes(e,t.progressInterval)})},handleDestroy:function(){var t=this;Object(i.eb)({event_id:this.id}).then(function(e){t.handleRes(e,t.progressInterval)})},handleRes:function(t,e){t.data.success&&(this.$message({type:"success",message:"操作成功"}),e&&e())},handlePhysical:function(t){var e=this,n={event_id:this.id};(t?i.e:i.g)(n).then(function(t){t.data.success&&e.getList()})}}},r=(n("uCjk"),n("ZrdR")),l=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container match_devops_wrapper"},[n("el-form",{attrs:{"label-width":"120px"}},[n("el-form-item",{attrs:{label:"竞赛状态"}},[1===t.formData.process?n("span",[t._v("未开始")]):t._e(),t._v(" "),0===t.formData.process?n("span",[t._v("\n        "+t._s(t.matchStatus[t.formData.status])+"\n      ")]):t._e(),t._v(" "),2===t.formData.process?n("span",[t._v("已结束")]):t._e()]),t._v(" "),1==t.formData.event_mode?n("el-form-item",{attrs:{label:"VPN部署"}},[1==t.formData.vpn_deploy_status?n("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.handlevpnDeploy}},[t._v("部署\n      ")]):t._e(),t._v(" "),1!=t.formData.vpn_deploy_status?n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.handleRemovevpnDeploy}},[t._v("回收\n      ")]):t._e(),t._v(" "),1!=t.formData.vpn_deploy_status?n("el-switch",{on:{change:function(e){t.vpnfun()}},model:{value:t.formData.vpn_join,callback:function(e){t.$set(t.formData,"vpn_join",e)},expression:"formData.vpn_join"}}):t._e(),t._v(" "),2==t.formData.vpn_deploy_status?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleApply}},[t._v("申请证书\n      ")]):t._e()],1):t._e(),t._v(" "),n("el-form-item",{attrs:{label:"场景部署"}},[1===t.progressData.status?n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.handleDestroy}},[t._v("资源回收\n      ")]):3===t.progressData.status?n("span",[t._v("部署中")]):n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleDeploy}},[t._v("开始部署\n      ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"实体设备部署"}},[t.formData.entity_status?n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.handlePhysical(0)}}},[t._v("资源回收\n      ")]):n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.handlePhysical(1)}}},[t._v("开始部署\n      ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"开始时间"}},[t._v("\n      "+t._s(t.formData.start_time)+"\n    ")]),t._v(" "),n("el-form-item",{attrs:{label:"结束时间"}},[t._v("\n      "+t._s(t.formData.end_time)+"\n    ")]),t._v(" "),n("el-form-item",{attrs:{label:"网络规则控制"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.intRuleControl}},[t._v("重新下发\n      ")]),t._v("\n        "),n("span",{staticStyle:{color:"#696969"}},[t._v("如果场景部署过程下发的网络规则出现异常，请点击重新下发按钮重置网络规则解决故障。")])],1),t._v(" "),n("el-form-item",{attrs:{label:"Flag推送控制"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.flagControl}},[t._v("立即执行\n      ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"比赛控制"}},[3===t.formData.status?[n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){t.handleOperation(1,"暂停比赛")}}},[t._v("暂停\n        ")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.handleOperation(3,"结束比赛")}}},[t._v("结束\n        ")])]:2===t.formData.status?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.handleOperation(2,"恢复比赛")}}},[t._v("恢复\n      ")]):4===t.formData.status||1===t.formData.status?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.handleOperation(0,"开始比赛")}}},[t._v("开始\n      ")]):t._e()],2),t._v(" "),n("el-form-item",{attrs:{label:"数据清理"}},[n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.handleOperation(4,"初始化数据")}}},[t._v("初始化\n      ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"部署进度"}},[n("el-progress",{staticStyle:{width:"70%",display:"inline-block"},attrs:{"text-inside":!0,"stroke-width":24,percentage:t.progressData.progress,status:"success"}})],1)],1),t._v(" "),t.progressData.message.length>0?n("div",{staticClass:"info"},t._l(t.progressData.message,function(e){return n("p",{key:e},[t._v(t._s(e))])})):t._e()],1)},[],!1,null,null,null);l.options.__file="matchStatus.vue";var c=l.exports,u=n("Mz3J"),d=n("ZySA"),p={name:"BulletinManage",directives:{waves:d.a},components:{Pagination:u.a},data:function(){return{is_task:0,event_id:this.$route.query.id,matchList:[],ids:[],addDlg:!1,diaTitle:"",noticeContente:"",topicList:[],task_id:"",noticeId:"",total:0,listSelect:{limit:10,offset:1}}},created:function(){var t=this;this.getNoticeList(),Object(i.E)({event_id:this.event_id}).then(function(e){t.topicList=e.data})},methods:{getPageList:function(t){this.limit=t.limit,this.offset=t.page,this.getNoticeList()},selectChange:function(){this.getNoticeList()},getNoticeList:function(){var t=this;Object(i.D)({event_id:this.event_id,is_task:this.is_task,page:this.listSelect.offset,per_page:this.listSelect.limit}).then(function(e){t.matchList=e.data.rows,t.total=e.data.total})},checkTable:function(t){var e=this;this.ids=[],t.forEach(function(t){e.ids.push(t.id)})},
//! 删除公告调用接口
deleteNotice:function(t){var e=this,n=[];t.id?n.push(t.id):n=this.ids,n.length>0?this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.L)({event_id:e.event_id},{ids:n}).then(function(t){e.ids=[],e.getNoticeList()}),e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({type:"info",message:"未选中任何数据"})},topPenetrationNoice:function(t){var e=this;if(this.ids.length){var n={ids:this.ids,action:t};Object(i.O)({event_id:this.event_id},n).then(function(t){t.data.success&&(e.$message.success("操作成功"),e.ids=[],e.getNoticeList())})}else this.$message.warning("请选择要操作内容")},submitNotice:function(){var t=this;this.noticeId?Object(i.M)({event_id:this.event_id,notice_id:this.noticeId},{notice:this.noticeContente}).then(function(e){e.data.message&&(t.$message.success("操作成功"),t.addDlg=!1,t.noticeContente="",t.task_id="",t.noticeId=0,t.getNoticeList())}):1===this.is_task?""===this.task_id?this.$message.warning("请选择题目"):Object(i.N)({event_id:this.event_id},{notice:this.noticeContente,is_task:this.is_task,task_id:this.task_id}).then(function(e){e.data.message&&(t.$message.success("操作成功"),t.addDlg=!1,t.noticeContente="",t.task_id="",t.getNoticeList())}):Object(i.N)({event_id:this.event_id},{notice:this.noticeContente,is_task:this.is_task,task_id:0}).then(function(e){e.data.message&&(t.$message.success("操作成功"),t.addDlg=!1,t.noticeContente="",t.task_id="",t.getNoticeList())})},showDlg:function(){0==this.is_task&&(this.diaTitle="新增公告"),1==this.is_task&&(this.diaTitle="新增题目提示"),this.addDlg=!0},closeDiglog:function(){this.addDlg=!1,this.noticeContente="",this.task_id="",this.noticeId=0,this.getNoticeList()},editNoice:function(t){this.noticeId=t.id,0===this.is_task?this.diaTitle="编辑公告":this.diaTitle="编辑题目提示",this.noticeContente=t.notice,this.addDlg=!0}}},m=(n("hEta"),Object(r.a)(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-select",{attrs:{size:"mini",placeholder:"比赛公告"},on:{change:t.selectChange},model:{value:t.is_task,callback:function(e){t.is_task=e},expression:"is_task"}},[n("el-option",{attrs:{value:0,label:"比赛公告"}}),t._v(" "),n("el-option",{attrs:{value:1,label:"题目提示"}})],1),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:1===t.is_task,expression:"is_task === 1"}],staticStyle:{display:"inline-block","margin-left":"10px","font-size":"14px"}},[t._v("\n      请选择题目:\n      "),n("el-select",{attrs:{size:"mini",placeholder:"请选择题目名称",clearable:""},model:{value:t.task_id,callback:function(e){t.task_id=e},expression:"task_id"}},t._l(t.topicList,function(t){return n("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}))],1)],1),t._v(" "),n("div",{staticClass:"filter-container"},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.showDlg}},[t._v(" 新增")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.deleteNotice}},[t._v("\n      删除")]),t._v(" "),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){t.topPenetrationNoice(1)}}},[t._v("\n      置顶")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.topPenetrationNoice(0)}}},[t._v("\n      取消置顶")])],1),t._v(" "),n("div",{staticClass:"filter-container"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.matchList,border:""},on:{"selection-change":t.checkTable}},[n("el-table-column",{attrs:{align:"center",type:"selection"}}),t._v(" "),n("el-table-column",{attrs:{type:"index",width:"50",align:"center",label:"序号"}}),t._v(" "),n("el-table-column",{attrs:{label:1===t.is_task?"题目提示":"竞赛公告",prop:"notice"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"jointype",label:"是否置顶",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(0==e.row.is_topped?"否":"是"))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"create_time",label:"发布时间",width:"200px"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{size:"mini",type:"success"},on:{click:function(n){t.editNoice(e.row)}}},[t._v("编辑\n          ")])]}}])})],1)],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listSelect.offset,limit:t.listSelect.limit},on:{"update:page":function(e){t.$set(t.listSelect,"offset",e)},"update:limit":function(e){t.$set(t.listSelect,"limit",e)},pagination:t.getPageList}}),t._v(" "),n("el-dialog",{attrs:{visible:t.addDlg},on:{"update:visible":function(e){t.addDlg=e},close:t.closeDiglog}},[n("span",{staticStyle:{"font-weight":"bold","font-size":"18px"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.diaTitle))]),t._v(" "),n("el-input",{attrs:{rows:4,type:"textarea",placeholder:"请输入内容"},model:{value:t.noticeContente,callback:function(e){t.noticeContente=e},expression:"noticeContente"}}),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.submitNotice}},[t._v("确 定")]),t._v(" "),n("el-button",{on:{click:function(e){t.addDlg=!1}}},[t._v("取 消")])],1)],1)],1)},[],!1,null,"79b949ef",null));m.options.__file="bulletinManage.vue";var f=m.exports,v={name:"TeamScene",components:{Pagination:u.a},data:function(){return{query:{event_id:this.$route.query.id,team_id:"",user_id:""},params:{event_id:this.$route.query.id,page:1,per_page:this.$store.state.config.row},total:0,tableData:[],dialogVisible:!1,//! 弹窗状态
name:"",//! 队伍名
title:"",instance:[],routerList:[],firewall:[],physical:[],flagList:[],viewFlag:!1,pushFlagData:{}}},created:function(){this.getList()},methods:{getList:function(){var t=this;Object(i.I)(this.params).then(function(e){t.tableData=e.data.rows,t.total=e.data.total})},messageError:function(){this.$message.error("题目环境异常或正在启动中，无法登录，请稍后再试")},handleFlagClose:function(){this.flagList=[],this.viewFlag=!1},pushFlag:function(t){var e=this;Object(i.P)({event_id:this.$route.query.id},{user_id:this.pushFlagData.user_id,team_id:this.pushFlagData.team_id,challenge_id:t.task_uuid}).then(function(t){t.data.success&&e.$message.success(t.data.message_zh)})},
//! 虚拟机管理      实例控制
lnstanceControl:function(t,e,n){var a=this;Object(i.K)({event_id:this.$route.query.id},{uuid:t,task_uuid:e,action:n}).then(function(t){t.data.success&&(a.$message.success("操作成功"),Object(i.C)(a.query).then(function(t){a.instance=t.data.instance}))})},
//! 虚拟设备管理      实例控制
virtualInstanceControl:function(t,e){Object(i.W)({event_id:this.$route.query.id},{uuid:t,action:e}).then(function(t){})},lookOverFlag:function(t){var e=this;Object(i.y)({event_id:this.$route.query.id,task_uuid:t,player_id:this.pushFlagData.team_id}).then(function(t){e.flagList=t.data,e.viewFlag=!0})},
//! 重新部署
handleRedeploy:function(t){var e=this,n={event_id:this.$route.query.id},a={team_id:t.team_id,user_id:t.user_id};Object(i.T)(n,a).then(function(t){t.data.success&&e.$message({type:"success",message:"操作成功"})})},handlevirtual:function(t,e){var n=this;this.pushFlagData={team_id:t.team_id,user_id:t.user_id},this.dialogVisible=!0,this.name=t.name,this.query={event_id:this.$route.query.id,team_id:t.team_id,user_id:t.user_id},"虚拟机"===e?(this.title="虚拟机管理",Object(i.C)(this.query).then(function(t){n.instance=t.data.instance})):"虚拟设备"===e?(this.title="虚拟设备管理",Object(i.J)(this.query).then(function(t){n.routerList=t.data.router,n.firewall=t.data.firewall})):(this.title="实体设备管理",Object(i.A)(this.query).then(function(t){var e=t.data;e.success&&(n.physical=e.data)}))},
//! 弹窗关闭事件
handleClose:function(){this.instance=[],this.routerList=[],this.firewall=[],this.physical=[],this.dialogVisible=!1}}},_=(n("iMja"),Object(r.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"teamScene_container"},[n("el-table",{ref:"TableScene",attrs:{data:t.tableData,border:"","highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"name","show-overflow-tooltip":"",label:"选手名称",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"network_num","show-overflow-tooltip":"",label:"网络",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"虚拟机",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{color:"#0000ee","text-decoration":"underline"},on:{click:function(n){t.handlevirtual(e.row,"虚拟机")}}},[n("a",[t._v(t._s(e.row.instance_num))])])]}}])}),t._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"虚拟设备",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.virtual_num)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"实体设备",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{cursor:"pointer",color:"#0000ee","text-decoration":"underline"},on:{click:function(n){t.handlevirtual(e.row,"实体设备")}}},[t._v("\n          "+t._s(e.row.entity)+"\n        ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{property:"status","show-overflow-tooltip":"",label:"部署状态",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){t.handleRedeploy(e.row)}}},[t._v("重新部署\n        ")])]}}])})],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.params.page,limit:t.params.per_page},on:{"update:page":function(e){t.$set(t.params,"page",e)},"update:limit":function(e){t.$set(t.params,"per_page",e)},pagination:t.getList}}),t._v(" "),n("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,"before-close":t.handleClose,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticStyle:{"margin-bottom":"30px"}},[t._v("选手:"+t._s(t.name))]),t._v(" "),t.instance.length?n("el-table",{ref:"instanceTable",staticStyle:{width:"100%"},attrs:{data:t.instance,border:"","highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),t._v(" "),n("el-table-column",{attrs:{property:"task_name",align:"center",label:"题目名称"}}),t._v(" "),n("el-table-column",{attrs:{property:"instance_name",label:"实例名称",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"ip_vlan[0][0]",label:"题目IP",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"ip_vlan[0][1]",label:"题目vlan",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"题目环境状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(4===e.row.power_state?"运行中":5===e.row.power_state?"停止":"异常")+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Flag查看",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){t.lookOverFlag(e.row.task_uuid)}}},[t._v("查看\n          ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"远程监控",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.access_url?n("a",{attrs:{href:e.row.access_url,target:"_blank"}},[n("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("登录")])],1):n("a",[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.messageError}},[t._v("登录\n            ")])],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"实例控制",align:"center",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(n){t.lnstanceControl(e.row.instance_uuid,e.row.task_uuid,0)}}},[t._v("开机\n          ")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){t.lnstanceControl(e.row.instance_uuid,e.row.task_uuid,1)}}},[t._v("关机\n          ")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){t.lnstanceControl(e.row.instance_uuid,e.row.task_uuid,2)}}},[t._v("重置\n          ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"测试操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){t.pushFlag(e.row)}}},[t._v("pushflag\n          ")])]}}])})],1):t._e(),t._v(" "),t.routerList.length?n("el-table",{ref:"routersTable",staticStyle:{width:"100%"},attrs:{data:t.routerList,border:"","highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{property:"router_name",label:"设备名称",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"instance_name",label:"实例名称",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"题目环境状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(4===e.row.power_state?"运行中":5===e.row.power_state?"停止":"异常")+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"远程管理",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.access_url?n("a",{attrs:{href:e.row.access_url,target:"_blank"}},[n("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("登录")])],1):n("a",[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.messageError}},[t._v("登录\n            ")])],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"实例控制",align:"center",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(n){t.virtualInstanceControl(e.row.instance_uuid,0)}}},[t._v("开启\n          ")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){t.virtualInstanceControl(e.row.instance_uuid,2)}}},[t._v("重置\n          ")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){t.virtualInstanceControl(e.row.instance_uuid,1)}}},[t._v("关闭\n          ")])]}}])})],1):t._e(),t._v(" "),t.physical.length?n("el-table",{ref:"physicalTable",staticStyle:{width:"100%"},attrs:{data:t.physical,border:"","highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"题目名称",prop:"challenge_title",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"设备序号",prop:"number",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"VLAN",prop:"vlan",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"IP",prop:"ip",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"MAC",prop:"mac",align:"center"}})],1):t._e()],1),t._v(" "),n("el-dialog",{attrs:{visible:t.viewFlag,"before-close":t.handleFlagClose,title:"查看题目Flag",width:"30%"},on:{"update:visible":function(e){t.viewFlag=e}}},[t._l(t.flagList.static,function(e,a){return n("div",{key:a,staticStyle:{"margin-left":"30px"}},[n("span",[t._v("静态Flag"+t._s(a+1)+":")]),n("span",{staticStyle:{"margin-left":"50px"}},[t._v(t._s(e))])])}),t._v(" "),n("br"),t._v(" "),t._l(t.flagList.dynamic,function(e,a){return n("div",{key:a+1,staticStyle:{"margin-left":"30px"}},[n("span",[t._v("动态Flag"+t._s(a+1)+":")]),n("span",{staticStyle:{"margin-left":"50px"}},[t._v(t._s(e))])])}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.handleFlagClose}},[t._v("关闭")])],1)],2)],1)},[],!1,null,null,null));_.options.__file="teamScene.vue";var h=_.exports,g={name:"Reveal",directives:{waves:d.a},components:{},data:function(){return{params:{event_id:this.$route.query.id},formData:{showRank:!1,openUploadWP:!1},vis_path:""}},created:function(){var t=this;Object(i.F)({event_id:this.$route.query.id}).then(function(e){t.formData.showRank=e.data.show_rank,t.vis_path=e.data.vis_path,t.formData.openUploadWP=e.data.can_upload_writeup})},methods:{initSence:function(){var t=this;this.$confirm("确定要场景初始化吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.Y)(t.params).then(function(e){e.data.success&&(t.$message.success("操作成功"),Object(i.F)({event_id:t.$route.query.id}).then(function(e){t.formData.showRank=e.data.show_rank,t.vis_path=e.data.vis_path,t.formData.openUploadWP=e.data.can_upload_writeup}))})}).catch(function(){t.$message({type:"info",message:"已取消初始化"})})},rankChange:function(){Object(i.U)({event_id:this.$route.query.id}).then(function(t){})},trendChange:function(){},WpChange:function(){Object(i.X)({event_id:this.$route.query.id}).then(function(t){})}}},b=(n("KrgI"),Object(r.a)(g,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"revealContainer"},[n("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"200px"}},[n("el-form-item",{attrs:{label:"是否显示排名"}},[n("el-switch",{on:{change:t.rankChange},model:{value:t.formData.showRank,callback:function(e){t.$set(t.formData,"showRank",e)},expression:"formData.showRank"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"是否显示趋势"}},[n("el-switch",{on:{change:t.trendChange},model:{value:t.formData.showRank,callback:function(e){t.$set(t.formData,"showRank",e)},expression:"formData.showRank"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"是否开放上传WP"}},[n("el-switch",{on:{change:t.WpChange},model:{value:t.formData.openUploadWP,callback:function(e){t.$set(t.formData,"openUploadWP",e)},expression:"formData.openUploadWP"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"态势展示"}},[n("a",{attrs:{href:t.vis_path,download:""}},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{size:"mini",type:"warning"}},[t._v("客户端下载\n        ")])],1),t._v(" "),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.initSence}},[t._v("场景初始化")])],1)],1)],1)},[],!1,null,null,null));b.options.__file="reveal.vue";var w=b.exports,y={name:"Rank",directives:{waves:d.a},components:{Pagination:u.a},data:function(){return{listSelect:{limit:this.$store.state.config.row,offset:1,event_id:this.$route.query.id,name:""},tableData:[],total:0,event_id:this.$route.query.id,name:"",showDlg:!1,reword:{event_id:"",contestant_id:0,score:0,content:""},rowName:""}},created:function(){this.getList()},methods:{confirmButton:function(){var t=this;this.reword.score?Object(i.S)(this.reword).then(function(e){t.reword={event_id:"",contestant_id:0,score:0,content:""},t.rowName="",t.showDlg=!1,e.data.success&&t.$message.success("奖罚生效")}):this.showDlg=!1},closeDiglog:function(){this.cancalButton()},cancalButton:function(){this.reword={event_id:"",contestant_id:0,score:0,content:""},this.rowName="",this.showDlg=!1},rewardAndPunishment:function(t){this.rowName=t.name,this.reword.event_id=this.event_id,this.reword.contestant_id=t.contestant_id,this.showDlg=!0},getPageList:function(t){this.limit=t.limit,this.offset=t.page,this.getList()},getList:function(){var t=this;Object(i.G)(this.listSelect).then(function(e){t.tableData=e.data.data,t.total=e.data.total})},handleBanned:function(t){var e=this,n=void 0;n=1===t.status?2:1,Object(i.V)({action:n,contestant_id:t.contestant_id,event_id:this.event_id}).then(function(t){t.data.success&&(e.$message.success("操作成功"),e.getList())})}}},k=(n("FVyJ"),Object(r.a)(y,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请输入选手名称"},model:{value:t.listSelect.name,callback:function(e){t.$set(t.listSelect,"name","string"==typeof e?e.trim():e)},expression:"listSelect.name"}}),t._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",size:"mini"},on:{click:t.getList}},[t._v("搜索")])],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{align:"center",type:"index",width:"50",label:"序号"}}),t._v(" "),n("el-table-column",{attrs:{label:"选手LOGO",prop:"logo",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.logo,alt:""}})]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"name",label:"选手名称"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"账户状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(1===e.row.status?"正常":"禁赛")+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"WriteUp上传状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.wp_path?"已上传":"未上传")+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"WriteUp"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.wp_path?n("a",{attrs:{href:e.row.wp_path,download:""}},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{size:"mini",type:"primary"}},[t._v("下载\n          ")])],1):n("span",[t._v("无")])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{size:"mini",type:"danger"},on:{click:function(n){t.handleBanned(e.row)}}},[t._v(t._s(1===e.row.status?"禁赛":"解禁")+"\n        ")]),t._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{size:"mini",type:"primary"},on:{click:function(n){t.rewardAndPunishment(e.row)}}},[t._v("奖罚分\n        ")])]}}])})],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listSelect.offset,limit:t.listSelect.limit},on:{"update:page":function(e){t.$set(t.listSelect,"offset",e)},"update:limit":function(e){t.$set(t.listSelect,"limit",e)},pagination:t.getPageList}}),t._v(" "),n("el-dialog",{attrs:{visible:t.showDlg},on:{"update:visible":function(e){t.showDlg=e},close:t.closeDiglog}},[n("span",{staticStyle:{"font-weight":"bold","font-size":"18px"},attrs:{slot:"title"},slot:"title"},[t._v("奖罚分数")]),t._v(" "),n("el-form",{ref:"jiangfa",attrs:{model:t.reword,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"队伍名称"}},[t._v("\n        "+t._s(t.rowName)+"\n      ")]),t._v(" "),n("el-form-item",{attrs:{label:"奖罚分"}},[n("el-col",{attrs:{span:6}},[n("el-input",{model:{value:t.reword.score,callback:function(e){t.$set(t.reword,"score","string"==typeof e?e.trim():e)},expression:"reword.score"}})],1),t._v(" "),n("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:10}},[t._v("\n          可填写正负分，正分表示增加，负分表示减分\n        ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"奖罚说明"}},[n("el-input",{attrs:{span:4,type:"textarea"},model:{value:t.reword.content,callback:function(e){t.$set(t.reword,"content",e)},expression:"reword.content"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.confirmButton}},[t._v("确 定")]),t._v(" "),n("el-button",{on:{click:t.cancalButton}},[t._v("取 消")])],1)],1)],1)},[],!1,null,null,null));k.options.__file="rank.vue";var O=k.exports,j={name:"ReportReview",directives:{waves:d.a},components:{Pagination:u.a},data:function(){return{total:0,listSelect:{limit:10,offset:1},tableData:[],event_id:this.$route.query.id}},created:function(){this.getList()},methods:{auditReport:function(t,e){var n=this;e?this.$confirm("确定要审核通过吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.httpPostRefereeOperation(t,e)}).catch(function(){n.$message({type:"info",message:"已取消操作"})}):this.httpPostRefereeOperation(t,e)},httpPostRefereeOperation:function(t,e){var n=this;Object(i.Q)({event_id:this.event_id},{report_id:t.id,action:e}).then(function(t){t.data.success&&(n.$message.success("操作成功"),n.getList())})},downFile:function(t){Object(i.R)({event_id:this.event_id,report_id:t.id}).then(function(t){})},getPageList:function(t){this.limit=t.limit,this.offset=t.page,this.getList()},getList:function(){var t=this;Object(i.H)({event_id:this.event_id,page:this.listSelect.offset,per_page:this.listSelect.limit}).then(function(e){t.tableData=e.data.rows})}}},D=(n("sdsN"),Object(r.a)(j,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right","margin-bottom":"10px"},attrs:{size:"mini ",type:"primary"},on:{click:t.getList}},[t._v("\n    刷新\n  ")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{align:"center",type:"index",width:"50",label:"序号"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"选手名称",prop:"user_name"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"challenge_name",label:"题目名称"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"update_time",label:"提交时间"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"报告下载"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("a",{attrs:{href:e.row.path,download:""}},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{size:"mini ",type:"primary"}},[t._v("下载\n          ")])],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"裁判操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{disabled:1===e.row.status||0===e.row.status,size:"mini",type:"success"},on:{click:function(n){t.auditReport(e.row,1)}}},[t._v("审核通过\n        ")]),t._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{disabled:1===e.row.status||0===e.row.status,size:"mini",type:"danger"},on:{click:function(n){t.auditReport(e.row,0)}}},[t._v("审核不通过\n        ")])]}}])})],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listSelect.offset,limit:t.listSelect.limit},on:{"update:page":function(e){t.$set(t.listSelect,"offset",e)},"update:limit":function(e){t.$set(t.listSelect,"limit",e)},pagination:t.getPageList}})],1)},[],!1,null,null,null));D.options.__file="reportReview.vue";var S=D.exports,x={name:"MyResult",directives:{waves:d.a},components:{Pagination:u.a},data:function(){return{search:"",event_id:this.$route.query.id,tableData:[],total:0,listSelect:{limit:10,offset:1},detialList:[],showDialog:!1,rowData:{},name:""}},created:function(){this.getList()},methods:{closeDiglog:function(){this.showDialog=!1},getPageList:function(t){this.limit=t.limit,this.offset=t.page,this.getDetialList(this.rowData)},getList:function(){var t=this;Object(i.B)({event_id:this.event_id,name:this.search}).then(function(e){t.tableData=e.data.data_list})},getDetialList:function(t){var e=this;t&&(this.rowData=t,this.name=t.name),Object(i.z)({event_id:this.event_id,page:this.listSelect.offset,per_page:this.listSelect.limit},t.contestant_id).then(function(t){e.detialList=t.data.data_list,e.total=t.data.total,e.showDialog=!0})}}},L=(n("vRUJ"),Object(r.a)(x,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"请输入选手名称",size:"mini"},model:{value:t.search,callback:function(e){t.search="string"==typeof e?e.trim():e},expression:"search"}}),t._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",size:"mini"},on:{click:function(e){t.getList()}}},[t._v("搜索\n    ")]),t._v(" "),n("a",{staticStyle:{float:"right"},attrs:{href:"/api/v1/inf/admin/operation/statistic_download/?event_id="+t.$route.query.id,download:""}},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-right":"30px"},attrs:{type:"warning",size:"mini"}},[t._v("成绩导出\n      ")])],1)],1),t._v(" "),n("div",{staticClass:"filter-container"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{align:"center",width:"50px",label:"名次",type:"index"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"logo",label:"选手LOGO"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.logo,alt:""}})]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"name",label:"选手名称"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"totle_score",label:"总积分"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"solving_score",label:"解题得分"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"reward_score",label:"奖罚分数"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{size:"mini",type:"success"},on:{click:function(n){t.getDetialList(e.row)}}},[t._v("查看详情\n          ")])]}}])})],1)],1),t._v(" "),n("el-dialog",{attrs:{visible:t.showDialog,title:"查看详情"},on:{"update:visible":function(e){t.showDialog=e},close:t.closeDiglog}},[n("p",[t._v("\n      当前选手: "+t._s(t.name)+"\n    ")]),t._v(" "),n("el-table",{attrs:{data:t.detialList,border:""}},[n("el-table-column",{attrs:{align:"center",width:"50px",label:"序号",type:"index"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"title",label:"题目名称"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"create_time",label:"解题时间"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"content",label:"提交内容"}})],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listSelect.offset,limit:t.listSelect.limit},on:{"update:page":function(e){t.$set(t.listSelect,"offset",e)},"update:limit":function(e){t.$set(t.listSelect,"limit",e)},pagination:t.getPageList}}),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.closeDiglog}},[t._v("关闭")])],1)],1)],1)},[],!1,null,"73626e7b",null));L.options.__file="myResult.vue";var $={name:"Index",components:{matchStatus:c,teamScene:h,bulletinManage:f,reveal:w,rank:O,reportReview:S,myResult:L.exports,vpn:n("xk3Q").a},data:function(){return{mode:null,activeName:"status",id:this.$route.query.id,event_mode:""}},created:function(){var t=this;Object(i.n)(this.id).then(function(e){var n=e.data;t.mode=n.mode,t.event_mode=n.event_mode,t.$store.dispatch("changeMatchName",n.name_zh)});var e=this.$route.query.activeName;e&&(this.activeName=e)},beforeDestroy:function(){this.$store.dispatch("changeMatchName","")}},C=Object(r.a)($,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-tabs",{staticStyle:{"margin-top":"15px"},attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{key:"status",attrs:{label:"竞赛状态",name:"status"}},["status"===t.activeName?n("matchStatus"):t._e()],1),t._v(" "),n("el-tab-pane",{key:"teamScene",attrs:{label:"选手场景",name:"teamScene"}},["teamScene"===t.activeName?n("teamScene"):t._e()],1),t._v(" "),n("el-tab-pane",{key:"reportReview",attrs:{label:"报告审核",name:"reportReview"}},["reportReview"===t.activeName?n("reportReview"):t._e()],1),t._v(" "),n("el-tab-pane",{key:"bulletinManage",attrs:{label:"公告管理",name:"bulletinManage"}},["bulletinManage"===t.activeName?n("bulletinManage"):t._e()],1),t._v(" "),n("el-tab-pane",{key:"rank",attrs:{label:"选手管理",name:"rank"}},["rank"===t.activeName?n("rank"):t._e()],1),t._v(" "),n("el-tab-pane",{key:"myResult",attrs:{label:"比赛结果",name:"myResult"}},["myResult"===t.activeName?n("myResult"):t._e()],1),t._v(" "),n("el-tab-pane",{key:"reveal",attrs:{label:"展示管理",name:"reveal"}},["reveal"===t.activeName?n("reveal"):t._e()],1),t._v(" "),1==t.event_mode?n("el-tab-pane",{key:"vpn",attrs:{label:"VPN管理",name:"vpn"}},[n("keep-alive",[n("vpn",{ref:"vpn"})],1)],1):t._e()],1)],1)},[],!1,null,null,null);C.options.__file="index.vue";e.default=C.exports},Ese5:function(t,e,n){},FVyJ:function(t,e,n){"use strict";var a=n("zLps");n.n(a).a},KrgI:function(t,e,n){"use strict";var a=n("Y2K1");n.n(a).a},L5pt:function(t,e,n){},OzoG:function(t,e,n){},RTHQ:function(t,e,n){"use strict";n.d(e,"I",function(){return i}),n.d(e,"T",function(){return s}),n.d(e,"C",function(){return o}),n.d(e,"J",function(){return r}),n.d(e,"A",function(){return l}),n.d(e,"y",function(){return c}),n.d(e,"K",function(){return u}),n.d(e,"P",function(){return d}),n.d(e,"W",function(){return p}),n.d(e,"D",function(){return m}),n.d(e,"N",function(){return f}),n.d(e,"L",function(){return v}),n.d(e,"O",function(){return _}),n.d(e,"M",function(){return h}),n.d(e,"E",function(){return g}),n.d(e,"F",function(){return b}),n.d(e,"U",function(){return w}),n.d(e,"X",function(){return y}),n.d(e,"Y",function(){return k}),n.d(e,"G",function(){return O}),n.d(e,"S",function(){return j}),n.d(e,"V",function(){return D}),n.d(e,"H",function(){return S}),n.d(e,"Q",function(){return x}),n.d(e,"R",function(){return L}),n.d(e,"B",function(){return $}),n.d(e,"z",function(){return C}),n.d(e,"o",function(){return N}),n.d(e,"d",function(){return z}),n.d(e,"n",function(){return R}),n.d(e,"b",function(){return T}),n.d(e,"cb",function(){return P}),n.d(e,"i",function(){return F}),n.d(e,"c",function(){return q}),n.d(e,"p",function(){return V}),n.d(e,"v",function(){return E}),n.d(e,"x",function(){return I}),n.d(e,"k",function(){return Q}),n.d(e,"w",function(){return M}),n.d(e,"fb",function(){return B}),n.d(e,"u",function(){return U}),n.d(e,"t",function(){return A}),n.d(e,"gb",function(){return W}),n.d(e,"a",function(){return G}),n.d(e,"bb",function(){return J}),n.d(e,"ab",function(){return Y}),n.d(e,"r",function(){return Z}),n.d(e,"m",function(){return H}),n.d(e,"h",function(){return K}),n.d(e,"q",function(){return X}),n.d(e,"j",function(){return tt}),n.d(e,"db",function(){return et}),n.d(e,"eb",function(){return nt}),n.d(e,"l",function(){return at}),n.d(e,"Z",function(){return it}),n.d(e,"s",function(){return st}),n.d(e,"f",function(){return ot}),n.d(e,"e",function(){return rt}),n.d(e,"g",function(){return lt});var a=n("t3Un");
//! 渗透赛 队伍场景数据列表
function i(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/scene_monitor",method:"get",params:t})}
//! 渗透赛 重新部署
function s(t,e){return Object(a.a)({url:"/api/v1/inf/admin/operation/scene_monitor",method:"post",params:t,data:e})}
//! 渗透赛 虚拟机管理列表
function o(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/instance_monitor",method:"get",params:t})}
//! 渗透赛 虚拟设备管理列表
function r(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/virtual_monitor",method:"get",params:t})}
//! 渗透赛    实体设备管理列表
function l(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/entity_monitor",method:"get",params:t})}function c(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/cat_flag",method:"get",params:t})}function u(t,e){return Object(a.a)({url:"/api/v1/inf/admin/operation/instance_monitor",method:"post",params:t,data:e})}function d(t,e){return Object(a.a)({url:"/api/v1/inf/admin/operation/push_single_flag",method:"post",params:t,data:e})}function p(t,e){return Object(a.a)({url:"/api/v1/inf/admin/operation/virtual_monitor",method:"post",params:t,data:e})}function m(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/notice_list",method:"get",params:t})}function f(t,e){return Object(a.a)({url:"/api/v1/inf/admin/operation/notice_list",method:"post",params:t,data:e})}function v(t,e){return Object(a.a)({url:"/api/v1/inf/admin/operation/notice_delete",method:"post",params:t,data:e})}function _(t,e){return Object(a.a)({url:"/api/v1/inf/admin/operation/notice_top",method:"post",params:t,data:e})}function h(t,e){return Object(a.a)({url:"/api/v1/inf/admin/operation/notice_detail",method:"post",params:t,data:e})}function g(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/notice_tasks",method:"get",params:t})}function b(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/operation_data/",method:"get",params:t})}function w(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/show_rank/",method:"post",params:t})}function y(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/write_up/",method:"post",params:t})}function k(t){return Object(a.a)({method:"post",url:"/api/v1/inf/admin/operation/init_scene/",params:t})}function O(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/operation_team_data/",method:"get",params:t})}function j(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/reward_score/",method:"post",data:t})}function D(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/team_status/",method:"post",data:t})}function S(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/report_check",method:"get",params:t})}function x(t,e){return Object(a.a)({url:"/api/v1/inf/admin/operation/referee_operation",method:"post",params:t,data:e})}function L(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/report_check",method:"post",params:t})}function $(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/event_statistic/",method:"get",params:t})}function C(t,e){return Object(a.a)({url:"/api/v1/inf/admin/operation/event_statistic/"+e,method:"get",params:t})}function N(t){return Object(a.a)({url:"/api/v1/inf/admin/setting/event_list/",method:"get",params:t})}function z(t){return Object(a.a)({url:"/api/v1/inf/admin/setting/event_delete/",method:"post",data:t})}function R(t){return Object(a.a)({url:"/api/v1/inf/admin/setting/event_list/"+t+"/",method:"get"})}function T(t,e){return Object(a.a)({url:"/api/v1/inf/admin/operation/vpn",method:"post",params:t,data:e})}function P(t){return Object(a.a)({url:"/api/v1/inf/admin/setting/event_public/",method:"post",data:t})}function F(t,e){return Object(a.a)({url:"/api/v1/inf/admin/setting/event_list/"+t+"/",method:"patch",data:e})}function q(t){return Object(a.a)({url:"/api/v1/inf/admin/setting/event_list/",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function V(t){return Object(a.a)({url:"/api/v1/inf/admin/setting/team_select/",method:"get",params:t})}function E(t){return Object(a.a)({url:"/api/v1/inf/admin/setting/challenge_store_list",method:"get",params:t})}function I(t,e){return Object(a.a)({url:"/api/v1/inf/admin/setting/topo/",method:"get",params:t,data:e})}function Q(t,e){return Object(a.a)({url:"/api/v1/inf/admin/setting/topo/",method:"post",params:t,data:e})}function M(t,e){return Object(a.a)({url:"/api/v1/inf/admin/setting/check_entity_number/",method:"post",params:t,data:e})}function B(t,e){return Object(a.a)({url:"/api/v1/inf/admin/setting/team_list/",method:"post",params:t,data:e})}function U(t){return Object(a.a)({url:"/api/v1/inf/admin/setting/score/",method:"get",params:t})}function A(t){return Object(a.a)({url:"/api/v1/inf/admin/setting/challenge_event_flags",method:"get",params:t})}function W(t){return Object(a.a)({url:"/api/v1/inf/admin/setting/challenge_event_flags",method:"patch",data:t})}function G(t,e){return Object(a.a)({method:"post",url:"/api/v1/ops/admin/setting/network_list/",params:t,data:e})}function J(t){return Object(a.a)({method:"get",url:"/api/v1/jeopardy/admin/event/check_network/"+t})}function Y(t){return Object(a.a)({url:"/api/v1/jeopardy/admin/event_state/"+t,method:"get"})}function Z(t){return Object(a.a)({method:"get",url:"/api/v1/att_def/admin/setting/team_count/",params:t})}function H(t,e,n){return Object(a.a)({method:"get",url:"/api/v1/jeopardy/admin/event/"+t+"/networks/"+e,data:n})}function K(t,e){return Object(a.a)({method:"patch",url:"/api/v1/att_def/admin/setting/network_list/",params:t,data:e})}function X(t){return Object(a.a)({url:"/api/v1/inf/admin/setting/event_scene_info/"+t+"/",method:"get"})}function tt(t,e){return Object(a.a)({url:"/api/v1/inf/admin/setting/event_scene_info/"+t+"/",method:"patch",data:e})}function et(t){return Object(a.a)({url:"/api/v1/inf/admin/deploy/init_env/",method:"post",params:t})}function nt(t){return Object(a.a)({url:"/api/v1/inf/admin/deploy/destroy_env/",method:"post",data:t})}function at(t,e){return Object(a.a)({url:"/api/v1/inf/admin/operation/event_control/",method:"post",params:t,data:e})}function it(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/router_rule_issue/",method:"post",params:t})}function st(t){return Object(a.a)({url:"/api/v1/inf/admin/operation/push_all_flags",method:"post",params:t})}function ot(t){return Object(a.a)({url:"/api/v1/inf/admin/deploy/progress/",method:"get",params:t})}function rt(t){return Object(a.a)({url:"/api/v1/inf/admin/deploy/init_entity/",method:"post",params:t})}function lt(t){return Object(a.a)({url:"/api/v1/inf/admin/deploy/destroy_entity/",method:"post",params:t})}},Y2K1:function(t,e,n){},Y5bG:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),Math.easeInOutQuad=function(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e};var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function i(t,e,n){var i=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,s=t-i,o=0;e=void 0===e?500:e;!function t(){o+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(o,i,s,e)),o<e?a(t):n&&"function"==typeof n&&n()}()}},ZySA:function(t,e,n){"use strict";var a=n("6ZY3"),i=n.n(a),s=(n("jUE0"),{bind:function(t,e){t.addEventListener("click",function(n){var a=i()({},e.value),s=i()({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),o=s.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var r=o.getBoundingClientRect(),l=o.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":((l=document.createElement("span")).className="waves-ripple",l.style.height=l.style.width=Math.max(r.width,r.height)+"px",o.appendChild(l)),s.type){case"center":l.style.top=r.height/2-l.offsetHeight/2+"px",l.style.left=r.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(n.pageY-r.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(n.pageX-r.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=s.color,l.className="waves-ripple z-active",!1}},!1)}}),o=function(t){t.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(o)),s.install=o;e.a=s},hEta:function(t,e,n){"use strict";var a=n("vDso");n.n(a).a},iMja:function(t,e,n){"use strict";var a=n("sO63");n.n(a).a},jUE0:function(t,e,n){},nMsD:function(t,e,n){},sO63:function(t,e,n){},sdsN:function(t,e,n){"use strict";var a=n("L5pt");n.n(a).a},uCjk:function(t,e,n){"use strict";var a=n("Ese5");n.n(a).a},vDso:function(t,e,n){},vRUJ:function(t,e,n){"use strict";var a=n("OzoG");n.n(a).a},xk3Q:function(t,e,n){"use strict";var a=n("2cRn"),i={name:"IndexVue",components:{Pagination:n("Mz3J").a},data:function(){return{id:this.$route.query.id,server:[],total:0,listQuery:{server_id:"",name_param:"",per_page:this.$store.state.config.row,status_param:"",page:1},matchList:[],ids:[],log:"",dialogTableVisible:!1,gridData:[],dialogTableLoading:!1,dialogFlowsVisible:!1,flowsData:[],dialogFlowsLoading:!1}},created:function(){this.getServer(),this.getList()},methods:{getServer:function(){var t=this;Object(a.b)(this.id).then(function(e){t.server=e.data.data})},getList:function(t){var e=this;1===t&&(this.listQuery.offset=t),Object(a.d)(this.id,this.listQuery).then(function(t){e.matchList=t.data.data,e.total=t.data.total||e.total,e.log=t.data.log_path})},operation:function(t){},indexMethod:function(t){return(this.listQuery.page-1)*this.listQuery.per_page+t+1},handleClose:function(t){"servers"===t?(this.gridData=[],this.dialogTableLoading=!1):"servers"===t&&(this.flowsData=[])},showVpnServers:function(){this.dialogTableVisible=!0,this.handleGetVpnServers()},handleGetVpnServers:function(t){var e=this;return t||(this.dialogTableLoading=!0),Object(a.c)(this.id).then(function(n){var a=n.data;a.success&&(e.gridData=a.data,t||(e.dialogTableLoading=!1))})},showFlowTable:function(t){var e=this,n=t.uuid;this.dialogFlowsVisible=!0,this.dialogFlowsLoading=!0,this.handleGetVpnServers(!0).then(function(){e.flowsData=e.gridData.find(function(t){return t.uuid===n}).flows,e.dialogFlowsLoading=!1})},handleReset:function(t){var e=this,n=t.uuid;Object(a.f)(this.id,n).then(function(t){t.data.success&&(e.$message({type:"success",message:"操作成功"}),e.handleGetVpnServers())})}}},s=(n("6DOF"),n("ZrdR")),o=Object(s.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container competition_box"},[n("div",{staticClass:"filter-container"},[n("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择VPN服务器",clearable:"",size:"mini"},model:{value:t.listQuery.server_id,callback:function(e){t.$set(t.listQuery,"server_id",e)},expression:"listQuery.server_id"}},t._l(t.server,function(t,e){return n("el-option",{key:e,attrs:{label:t.server_name,value:t.id}})})),t._v(" "),n("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择用户拨入状态",clearable:"",size:"mini"},model:{value:t.listQuery.status_param,callback:function(e){t.$set(t.listQuery,"status_param",e)},expression:"listQuery.status_param"}},[n("el-option",{attrs:{value:1,label:"在线"}}),t._v(" "),n("el-option",{attrs:{value:2,label:"离线"}})],1),t._v(" "),n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入账户名",size:"mini"},model:{value:t.listQuery.name_param,callback:function(e){t.$set(t.listQuery,"name_param","string"==typeof e?e.trim():e)},expression:"listQuery.name_param"}}),t._v(" "),n("el-button",{staticClass:"filter-item",attrs:{type:"primary",size:"mini"},on:{click:function(e){t.getList(1)}}},[t._v("搜索")]),t._v(" "),n("el-button",{staticClass:"filter-item",attrs:{type:"primary",size:"mini"},on:{click:t.getList}},[t._v("刷新")]),t._v(" "),n("div",{staticClass:"fr"},[""!=t.listQuery.server_id?n("a",{staticClass:"filter-item",attrs:{href:"/api/v1/common/admin/vpn/"+t.id+"/vpn_log/"+t.listQuery.server_id+"/download",download:""}},[n("el-button",{attrs:{type:"warning",size:"mini"}},[t._v("VPN日志下载")])],1):t._e(),t._v(" "),n("el-button",{staticClass:"filter-item",attrs:{type:"warning",size:"mini"},on:{click:t.showVpnServers}},[t._v("VPN服务器管理")])],1)],1),t._v(" "),n("el-table",{ref:"multipleTable",attrs:{data:t.matchList,border:""}},[n("el-table-column",{attrs:{index:t.indexMethod,align:"center",width:"50px",label:"序号",type:"index"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"user_name",label:"账户名"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"vpn_server_name",label:"VPN服务器"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"user_status",label:"拨入状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(1===e.row.user_status?"在线":"离线")+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"证书申请状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(1===e.row.ca_apply_status?"成功":"失败")+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"virtual_address",label:"虚拟地址"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"entry_time",label:"接入时间"}}),t._v(" "),n("el-table-column",{attrs:{label:"密钥管理",align:"center",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("a",{attrs:{href:"/api/v1/common/admin/vpn/"+t.id+"/vpn_ca/"+e.row.user_id+"/download",download:""}},[n("el-button",{attrs:{size:"mini",type:"warning"}},[t._v("下载 ")])],1)]}}])})],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.per_page},on:{"update:page":function(e){t.$set(t.listQuery,"page",e)},"update:limit":function(e){t.$set(t.listQuery,"per_page",e)},pagination:t.getList}}),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogTableVisible,title:"VPN 服务器管理",width:"1200px"},on:{"update:visible":function(e){t.dialogTableVisible=e},close:function(e){for(var n=arguments.length,a=Array(n);n--;)a[n]=arguments[n];t.handleClose.apply(void 0,a.concat(["servers"]))}}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogTableLoading,expression:"dialogTableLoading"}],attrs:{data:t.gridData,border:""}},[n("el-table-column",{attrs:{type:"index",width:"50",label:"序号",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"vpn_server_name",label:"VPN 服务器",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"monitor_port",label:"映射端口",align:"center",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{property:"external_access",label:"外部访问IP/域名",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"网络信息",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.network,function(e,a){return n("div",{key:a,staticStyle:{"text-align":"left"}},[n("span",[t._v(t._s(a+": "+e))])])})}}])}),t._v(" "),n("el-table-column",{attrs:{label:"相关流表信息",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){t.showFlowTable(e.row)}}},[t._v("查看")])]}}])}),t._v(" "),n("el-table-column",{attrs:{property:"status",label:"状态",align:"center",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{label:"重置管理",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){t.handleReset(e.row)}}},[t._v("重置")])]}}])})],1)],1),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogFlowsVisible,title:"相关流表信息",width:"800px"},on:{"update:visible":function(e){t.dialogFlowsVisible=e},close:function(e){for(var n=arguments.length,a=Array(n);n--;)a[n]=arguments[n];t.handleClose.apply(void 0,a.concat(["flows"]))}}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogFlowsLoading,expression:"dialogFlowsLoading"}],attrs:{data:t.flowsData,border:""}},[n("el-table-column",{attrs:{type:"index",width:"50",label:"序号",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row))])]}}])})],1)],1)],1)},[],!1,null,"c197fb08",null);o.options.__file="index.vue";e.a=o.exports},zLps:function(t,e,n){}}]);