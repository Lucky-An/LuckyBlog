(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2895"],{"0+lU":function(t,e,r){"use strict";r.r(e);var n=r("uTCP"),a=r("tBjE"),i=r("SArH"),u=r("Ibrk"),o={components:{QuillEditor:n.a,UploadFile:a.a},data:function(){return{task_id:this.$route.query.task_id,hash:this.$route.query.hash,subType:[{cn_name:"XCTF",id:1}],ruleForm:{title_en:"",title:"",protocol:1,category_id:1,score:0,public:1,notes:"",content:"",content_html:"",content_en:"",content_en_html:"",node:"",devicename:"",answer:"",target:"",target_en:"",markdown_target:"",markdown_target_en:"",file:""},rules:{title:[{required:!0,message:"请输入题目名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字",trigger:"blur"}],category_id:[{required:!0,message:"请选择题目类型",trigger:"change"}],title_en:[{required:!0,message:"请输入题目名称英文",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字",trigger:"blur"}],devicename:[{required:!0,message:"请输入设备名",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字",trigger:"blur"}],score:[{required:!0,message:"请输入题目分值",trigger:"blur"}],content:[{required:!0,message:"请输入题目描述",trigger:"blur"}],markdown_content_en:[{required:!0,message:"请输入题目描述英文",trigger:"blur"}],markdown_target:[{required:!0,message:"请输入题目目标",trigger:"blur"}],markdown_target_en:[{required:!0,message:"请输入题目目标英文",trigger:"blur"}],protocol:[{type:"number",required:!0,message:"请选择",trigger:"change"}],node:[{type:"number",required:!0,message:"请选择节点名称",trigger:"change"}]},process:null}},created:function(){this.getProcess(),this.task_id&&this.subInfo()},methods:{getProcess:function(){var t=this;Object(i.w)(this.hash).then(function(e){t.process=e.data.process})},goback:function(){this.$router.push({path:"/competition/rw/operation",query:{hash:this.hash,activeName:"topic"}})},getSubType:function(){var t=this;Object(u.f)({type:4}).then(function(e){t.subType=e.data})},subInfo:function(){var t=this;Object(i.D)(this.hash,this.task_id).then(function(e){for(var r in t.ruleForm)t.ruleForm[r]=e.data[r]})},onSubmit:function(){var t=this,e=new FormData,r=this.ruleForm;for(var n in r)e.append(n,r[n]);this.task_id&&e.append("event_id",this.task_id),this.task_id&&Object(i.i)(this.hash,this.task_id,e).then(function(e){e.data.success&&t.$router.push({path:"/competition/rw/operation",query:{hash:t.hash,activeName:"topic"}})})},addEnc:function(){this.enclosureAry.push(1),this.flagAry.push({flag:""})},submitForm:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return t.$message.error("请核验所填写的信息"),!1;t.onSubmit()})},resetForm:function(){this.$refs.ruleForm.resetFields()}}},c=(r("5E4C"),r("ZrdR")),s=Object(c.a)(o,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container create_topic"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"200px"}},[r("el-form-item",{attrs:{label:"题目名称",prop:"title",placeholder:"请填写题目名称"}},[r("el-input",{model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title","string"==typeof e?e.trim():e)},expression:"ruleForm.title"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"题目类型",prop:"category_id"}},[r("el-select",{staticClass:"filter-item",attrs:{placeholder:"题目类型",disabled:""},model:{value:t.ruleForm.category_id,callback:function(e){t.$set(t.ruleForm,"category_id",e)},expression:"ruleForm.category_id"}},t._l(t.subType,function(t,e){return r("el-option",{key:e,attrs:{label:t.cn_name,value:t.id}})}))],1),t._v(" "),r("el-form-item",{attrs:{label:"题目分值",prop:"score"}},[r("el-input-number",{attrs:{min:0,max:1e6,disabled:"",label:"描述文字"},model:{value:t.ruleForm.score,callback:function(e){t.$set(t.ruleForm,"score",e)},expression:"ruleForm.score"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"题目内容",prop:"markdown_content"}},[r("quill-editor",{attrs:{holder:"请输入题目内容"},model:{value:t.ruleForm.content_html,callback:function(e){t.$set(t.ruleForm,"content_html",e)},expression:"ruleForm.content_html"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"题目内容英文"}},[r("quill-editor",{attrs:{holder:"请输入题目内容英文"},model:{value:t.ruleForm.content_en_html,callback:function(e){t.$set(t.ruleForm,"content_en_html",e)},expression:"ruleForm.content_en_html"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"题目附件"}},[r("UploadFile",{attrs:{file:t.ruleForm.file,"file-type":["zip"],"file-size":20971520},on:{"update:file":function(e){t.$set(t.ruleForm,"file",e)}}}),t._v("\n      （请上传zip格式文件，大小不超过20M）\n    ")],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("保存")]),t._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:t.goback}},[t._v("返回")])],1)],1)],1)},[],!1,null,null,null);s.options.__file="index.vue";e.default=s.exports},"5E4C":function(t,e,r){"use strict";var n=r("o1LN");r.n(n).a},Ibrk:function(t,e,r){"use strict";r.d(e,"e",function(){return a}),r.d(e,"g",function(){return i}),r.d(e,"i",function(){return u}),r.d(e,"f",function(){return o}),r.d(e,"a",function(){return c}),r.d(e,"b",function(){return s}),r.d(e,"d",function(){return d}),r.d(e,"c",function(){return l}),r.d(e,"h",function(){return m});var n=r("t3Un");function a(t){return Object(n.a)({url:"/api/v1/common/admin/challenge/tags/",method:"get",params:t})}function i(){return Object(n.a)({url:"/api/v1/common/admin/flavors",method:"get",params:{per_page:9999}})}function u(){return Object(n.a)({url:"/api/v1/common/admin/images",method:"get"})}function o(t){return Object(n.a)({url:"/api/v1/common/admin/challenge/categorys/",method:"get",params:t})}function c(t){return Object(n.a)({url:"/api/v1/common/admin/challenge/tags/",method:"post",data:t})}function s(t){return Object(n.a)({url:"/api/v1/common/admin/challenge/categorys/",method:"post",data:t})}function d(t){return Object(n.a)({url:"/api/v1/common/admin/challenge/categorys/",method:"delete",data:t})}function l(t){return Object(n.a)({url:"/api/v1/common/admin/challenge/tags/",method:"delete",data:t})}function m(t){return Object(n.a)({url:"/api/v1/common/admin/flavors",method:"get",params:t})}},SArH:function(t,e,r){"use strict";r.d(e,"E",function(){return a}),r.d(e,"o",function(){return i}),r.d(e,"H",function(){return u}),r.d(e,"c",function(){return o}),r.d(e,"G",function(){return c}),r.d(e,"b",function(){return s}),r.d(e,"F",function(){return d}),r.d(e,"q",function(){return l}),r.d(e,"u",function(){return m}),r.d(e,"C",function(){return f}),r.d(e,"p",function(){return p}),r.d(e,"s",function(){return h}),r.d(e,"x",function(){return v}),r.d(e,"f",function(){return b}),r.d(e,"t",function(){return g}),r.d(e,"k",function(){return _}),r.d(e,"A",function(){return w}),r.d(e,"y",function(){return j}),r.d(e,"l",function(){return O}),r.d(e,"h",function(){return k}),r.d(e,"e",function(){return F}),r.d(e,"r",function(){return y}),r.d(e,"I",function(){return q}),r.d(e,"w",function(){return $}),r.d(e,"M",function(){return x}),r.d(e,"d",function(){return C}),r.d(e,"v",function(){return E}),r.d(e,"j",function(){return T}),r.d(e,"J",function(){return A}),r.d(e,"n",function(){return I}),r.d(e,"z",function(){return S}),r.d(e,"g",function(){return U}),r.d(e,"D",function(){return z}),r.d(e,"i",function(){return N}),r.d(e,"m",function(){return D}),r.d(e,"a",function(){return H}),r.d(e,"L",function(){return J}),r.d(e,"B",function(){return L}),r.d(e,"K",function(){return P});var n=r("t3Un");function a(t,e){return Object(n.a)({method:"get",url:"/api/v1/rw/admin/evts/"+t+"/challenges/verification",params:e})}function i(t,e){return Object(n.a)({method:"get",url:"/api/v1/rw/admin/evts/"+t+"/challenges/prompt",params:e})}function u(t,e){return Object(n.a)({method:"post",url:"/api/v1/rw/admin/evts/"+t+"/challenges/verification",data:e})}function o(t,e){return Object(n.a)({method:"patch",url:"/api/v1/rw/admin/evts/"+t+"/submit_validation/"+e})}function c(t,e){return Object(n.a)({method:"get",url:"/api/v1/rw/admin/evts/"+t+"/challenge_logs",params:e})}function s(t,e){return Object(n.a)({method:"get",url:"/api/v1/rw/admin/evts/"+t+"/challenges/verification/logs",params:e})}function d(t,e,r){return Object(n.a)({method:"get",url:"/api/v1/rw/admin/evts/"+t+"/submit_manage/"+e,params:r})}function l(t,e){return Object(n.a)({method:"get",url:"/api/v1/rw/admin/evts/"+t+"/scores/teams",params:e})}function m(t,e){return Object(n.a)({method:"get",url:"/api/v1/rw/admin/evts/"+t+"/challenges/verification/teams",params:e})}function f(t,e){return Object(n.a)({method:"post",url:"/api/v1/rw/admin/evts/"+t+"/scores/reward",data:e})}function p(t,e){return Object(n.a)({method:"get",url:"/api/web/evts/"+t+"/scoreboard/tasks",params:e})}function h(t,e){return Object(n.a)({method:"get",url:"/api/v1/rw/admin/evts/"+t+"/answers",params:e})}function v(t){return Object(n.a)({method:"post",url:"/api/env/"+t,data:{task_hash:t}})}function b(t){return Object(n.a)({url:"/api/env/"+t,method:"delete"})}function g(t){return Object(n.a)({method:"get",url:"/api/env/"+t})}function _(t){return Object(n.a)({url:"/api/v1/rw/admin/evts",method:"get",params:t})}function w(t){return Object(n.a)({url:"/api/v1/rw/admin/evts/batch_destroy",method:"delete",data:t})}function j(t){return Object(n.a)({url:"/api/v1/rw/admin/evts/batch_public",method:"patch",data:t})}function O(t){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t,method:"get"})}function k(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t,method:"patch",data:e})}function F(t){return Object(n.a)({url:"/api/v1/rw/admin/evts",method:"post",data:t})}function y(t){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/teams",method:"get"})}function q(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/teams",method:"post",data:e})}function $(t){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/state",method:"get"})}function x(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/state",method:"patch",data:e})}function C(t){return Object(n.a)({url:"/api/v1/rw/admin/evts/clear_event/"+t,method:"post"})}function E(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/event/"+t+"/init_scene",method:"patch"})}function T(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+e+"/tasks/imports",method:"get",params:t})}function A(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/tasks",method:"post",data:e})}function I(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/tasks",method:"get",params:e})}function S(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/tasks/batch_public",method:"patch",data:e})}function U(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/tasks/batch_destroy",method:"delete",data:e})}function z(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/tasks/"+e,method:"get"})}function N(t,e,r){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/tasks/"+e,method:"patch",data:r})}function D(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/notices",method:"get",params:e})}function H(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/notices",method:"post",data:e})}function J(t,e,r){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/notices/"+e,method:"patch",data:r})}function L(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/notices/batch_destroy",method:"delete",data:e})}function P(t,e){return Object(n.a)({url:"/api/v1/rw/admin/evts/"+t+"/notices/batch_top",method:"patch",data:e})}},o1LN:function(t,e,r){}}]);