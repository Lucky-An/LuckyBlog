(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a79c"],{S97R:function(t,e,n){"use strict";n.r(e);var i=n("Mz3J"),a=n("was3"),o={name:"Config",components:{Pagination:i.a},data:function(){return{editTag:!1,tagName:"",tagList:[],listData:[],ids:[],listTotal:0,listPage:1,listQuery:{offset:0,limit:this.$store.state.config.row},tagIds:[],tagQuery:{label:"",description:""},rules:{label:[{required:!0,message:"请填写类型名称",trigger:"blur"},{max:10,message:"类型名称限制在十个字以内",trigger:"blur"}]}}},created:function(){this.getList(),this.getTag()},methods:{closetagDlg:function(){this.tagQuery={label:"",description:""}},checkTag:function(t){this.tagIds=t.map(function(t){return t.id})},removeTag:function(t){var e=this;this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.j)({ids:[t]}).then(function(t){t.data.success&&(e.$message.success("操作成功"),e.typeManage())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},addTag:function(){var t=this;""!==this.tagQuery.label?Object(a.b)(this.tagQuery).then(function(e){e.data.success&&(t.tagQuery={label:"",description:""},t.$message.success("操作成功"),t.typeManage())}):this.$message.error("请输入分类名称")},typeManage:function(){this.editTag=!0,this.getTag()},getTag:function(){var t=this;Object(a.g)().then(function(e){t.tagList=e.data.rows})},indexMethod:function(t){return(this.listPage-1)*this.listQuery.limit+t+1},isShowTool:function(t){var e=this,n={ids:this.ids,status:t};Object(a.h)(n).then(function(t){t.data.success&&(e.$message.success("操作成功"),e.getList())})},removeTool:function(){var t=this;this.ids,this.ids.length<=0||this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.i)({ids:t.ids}).then(function(e){e.data.success&&(t.$message.success("操作成功"),t.getList())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},addTool:function(){this.$router.push({path:"/tool/addTool"})},editTopic:function(t){this.$router.push({path:"/tool/editTool",query:{id:t}})},getList:function(){var t=this;this.listQuery.offset=(this.listPage-1)*this.listQuery.limit,Object(a.d)(this.listQuery).then(function(e){var n=e.data;t.listData=n.rows,t.listTotal=n.total,t.listTotal<=t.listQuery.offset&&0!=t.listTotal&&(t.listQuery.offset=t.listQuery.offset-t.listQuery.limit,t.getList())})},checkTable:function(t){this.ids=t.map(function(t){return t.id})}}},s=(n("iCkx"),n("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.addTool}},[t._v(" 新增")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.removeTool}},[t._v(" 删除")]),t._v(" "),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){t.isShowTool(1)}}},[t._v("\n      公开")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.isShowTool(0)}}},[t._v("\n      隐藏")]),t._v(" "),n("div",{staticStyle:{float:"right"}},[n("el-button",{staticClass:"filter-item",attrs:{type:"primary",size:"mini"},on:{click:t.typeManage}},[t._v("分类管理")])],1)],1),t._v(" "),n("div",{staticClass:"filter-container"},[n("el-table",{attrs:{data:t.listData,border:""},on:{"selection-change":t.checkTable}},[n("el-table-column",{attrs:{align:"center",type:"selection"}}),t._v(" "),n("el-table-column",{attrs:{index:t.indexMethod,align:"center",type:"index",width:"50",label:"序号"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"name",label:"工具名称"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"label_name",label:"工具分类"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"system_type_name",label:"支持平台"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"edition",label:"版本号"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"tool_size",label:"大小"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"upload_time",label:"上传时间"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"name",label:"语言"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(0==e.row.language?"中文":"其他")+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"收费模式"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(0==e.row.charge?"免费":"付费")+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"公开/隐藏"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(0==e.row.status?"隐藏":"公开")+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"success"},on:{click:function(n){t.editTopic(e.row.id)}}},[t._v("编辑\n          ")]),t._v(" "),n("a",{attrs:{href:"/api/v1/common/admin/tool_download/?id="+e.row.id,download:""}},[n("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"warning"}},[t._v("下载\n            ")])],1)]}}])})],1)],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.listTotal>0,expression:"listTotal > 0"}],attrs:{total:t.listTotal,page:t.listPage,limit:t.listQuery.limit},on:{"update:page":function(e){t.listPage=e},"update:limit":function(e){t.$set(t.listQuery,"limit",e)},pagination:t.getList}}),t._v(" "),n("el-dialog",{attrs:{visible:t.editTag,title:"分类管理",width:"600px"},on:{"update:visible":function(e){t.editTag=e},close:t.closetagDlg}},[n("el-form",{ref:"form",attrs:{model:t.tagQuery,rules:t.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"分类名称",prop:"label"}},[n("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入分类名称"},model:{value:t.tagQuery.label,callback:function(e){t.$set(t.tagQuery,"label","string"==typeof e?e.trim():e)},expression:"tagQuery.label"}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.addTag}},[t._v("新增")])],1)],1),t._v(" "),n("el-alert",{attrs:{title:"分类管理 详情",closable:!1,type:"success",center:""}}),t._v(" "),n("div",{staticStyle:{border:"1px solid rgb(240, 249, 235)"}},t._l(t.tagList,function(e){return n("el-tag",{key:e.id,staticClass:"mytag",staticStyle:{margin:"20px 20px"},attrs:{closable:"",size:"mini"},on:{close:function(n){t.removeTag(e.id)}}},[n("el-tooltip",{staticClass:"item",attrs:{content:e.label,effect:"dark",placement:"top-start"}},[n("div",{staticStyle:{display:"inline-block",width:"120px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[t._v("\n            "+t._s(e.label)+"\n          ")])])],1)}))],1)],1)},[],!1,null,"b16c12e2",null);l.options.__file="index.vue";e.default=l.exports},Y5bG:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),Math.easeInOutQuad=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e};var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function a(t,e,n){var a=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,o=t-a,s=0;e=void 0===e?500:e;!function t(){s+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(s,a,o,e)),s<e?i(t):n&&"function"==typeof n&&n()}()}},iCkx:function(t,e,n){"use strict";var i=n("xyX2");n.n(i).a},was3:function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"h",function(){return o}),n.d(e,"i",function(){return s}),n.d(e,"a",function(){return l}),n.d(e,"e",function(){return r}),n.d(e,"c",function(){return c}),n.d(e,"g",function(){return u}),n.d(e,"f",function(){return d}),n.d(e,"b",function(){return m}),n.d(e,"j",function(){return f});var i=n("t3Un");function a(t){return Object(i.a)({url:"/api/v1/common/admin/tool/",method:"get",params:t})}function o(t){return Object(i.a)({url:"/api/v1/common/admin/tool_show/",method:"post",data:t})}function s(t){return Object(i.a)({url:"/api/v1/common/admin/tool_delete/",method:"post",data:t})}function l(t){return Object(i.a)({url:"/api/v1/common/admin/tool/",method:"post",data:t})}function r(t){return Object(i.a)({url:"/api/v1/common/admin/tool/",method:"get",params:t})}function c(t,e){return Object(i.a)({url:"/api/v1/common/admin/tool/",method:"patch",params:t,data:e})}function u(){return Object(i.a)({url:"/api/v1/common/admin/tool/tag/",method:"get"})}function d(){return Object(i.a)({url:"/api/v1/common/admin/tool_tag/",method:"get"})}function m(t){return Object(i.a)({url:"/api/v1/common/admin/tool/tag/",method:"post",data:t})}function f(t){return Object(i.a)({url:"/api/v1/common/admin/tool/tag/",method:"delete",data:t})}},xyX2:function(t,e,n){}}]);