(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-35ad"],{"3uHA":function(e,t,r){},Ibrk:function(e,t,r){"use strict";r.d(t,"e",function(){return a}),r.d(t,"g",function(){return n}),r.d(t,"i",function(){return o}),r.d(t,"f",function(){return l}),r.d(t,"a",function(){return u}),r.d(t,"b",function(){return s}),r.d(t,"d",function(){return c}),r.d(t,"c",function(){return m}),r.d(t,"h",function(){return d});var i=r("t3Un");function a(e){return Object(i.a)({url:"/api/v1/common/admin/challenge/tags/",method:"get",params:e})}function n(){return Object(i.a)({url:"/api/v1/common/admin/flavors",method:"get",params:{per_page:9999}})}function o(){return Object(i.a)({url:"/api/v1/common/admin/images",method:"get"})}function l(e){return Object(i.a)({url:"/api/v1/common/admin/challenge/categorys/",method:"get",params:e})}function u(e){return Object(i.a)({url:"/api/v1/common/admin/challenge/tags/",method:"post",data:e})}function s(e){return Object(i.a)({url:"/api/v1/common/admin/challenge/categorys/",method:"post",data:e})}function c(e){return Object(i.a)({url:"/api/v1/common/admin/challenge/categorys/",method:"delete",data:e})}function m(e){return Object(i.a)({url:"/api/v1/common/admin/challenge/tags/",method:"delete",data:e})}function d(e){return Object(i.a)({url:"/api/v1/common/admin/flavors",method:"get",params:e})}},M3Ee:function(e,t,r){"use strict";var i=r("3uHA");r.n(i).a},"MD+q":function(e,t,r){"use strict";r.d(t,"e",function(){return a}),r.d(t,"d",function(){return n}),r.d(t,"f",function(){return o}),r.d(t,"k",function(){return l}),r.d(t,"i",function(){return u}),r.d(t,"g",function(){return s}),r.d(t,"h",function(){return c}),r.d(t,"j",function(){return m}),r.d(t,"c",function(){return d}),r.d(t,"b",function(){return f}),r.d(t,"a",function(){return p});var i=r("t3Un");
//! 渗透赛获取题目列表
function a(e){return Object(i.a)({url:"/api/v1/inf/admin/setting/challenge_store_list",method:"get",params:e})}
//! 渗透赛获取题目标签options值
function n(e){return Object(i.a)({url:"/api/v1/inf/admin/setting/challenge_store_flag",method:"get",params:e})}function o(e){return Object(i.a)({url:"/api/v1/inf/admin/setting/challenge_store",method:"post",data:e})}function l(e){return Object(i.a)({url:"/api/v1/inf/admin/setting/challenge_store_list",method:"post",data:e})}
//! 获取题目类型
function u(){return Object(i.a)({url:"/api/v1/inf/admin/setting/categorys",method:"get"})}
//! 获取镜像列表
function s(e){return Object(i.a)({url:"/api/v1/common/admin/images",method:"get",params:e})}function c(e){return Object(i.a)({url:"/api/v1/inf/admin/setting/challenge_store",method:"get",params:e})}function m(e,t){return Object(i.a)({url:"/api/v1/inf/admin/setting/challenge_store",method:"patch",params:e,data:t})}function d(e){return Object(i.a)({url:"/api/v1/inf/admin/setting/challenge_store/test_env/"+e,method:"post"})}function f(e){return Object(i.a)({url:"/api/v1/inf/admin/setting/challenge_store/test_env/"+e,method:"delete"})}function p(e){return Object(i.a)({url:"/api/v1/inf/admin/setting/challenge_store/test_env/"+e,method:"get"})}},Uyhf:function(e,t,r){"use strict";r.d(t,"i",function(){return a}),r.d(t,"b",function(){return n}),r.d(t,"n",function(){return o}),r.d(t,"h",function(){return l}),r.d(t,"k",function(){return u}),r.d(t,"e",function(){return s}),r.d(t,"g",function(){return c}),r.d(t,"a",function(){return m}),r.d(t,"c",function(){return d}),r.d(t,"o",function(){return f}),r.d(t,"j",function(){return p}),r.d(t,"d",function(){return g}),r.d(t,"f",function(){return _}),r.d(t,"m",function(){return h}),r.d(t,"l",function(){return v});var i=r("t3Un");function a(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/tasks/",method:"get",params:e})}function n(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/tasks/batch_destroy/",method:"delete",data:e})}function o(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/container/sharing/",method:"patch",data:e})}function l(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/task/flags/",method:"get",params:e})}function u(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/categorys/",method:"get",params:e})}function s(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/categorys/",method:"post",data:e})}function c(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/categorys/batch_destroy/",method:"delete",data:e})}function m(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/tasks/",method:"post",data:e})}function d(e,t){return Object(i.a)({url:"/api/v1/jeopardy/admin/tasks/"+e,method:"patch",data:t})}function f(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/tasks/"+e,method:"get"})}function p(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/tags/",method:"get",params:e})}function g(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/tags/",method:"post",data:e})}function _(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/tags/batch_destroy/",method:"delete",data:e})}function h(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/task_test",method:"post",data:e})}function v(e){return Object(i.a)({url:"/api/v1/jeopardy/admin/task_test",method:"get",params:e})}},Y5bG:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),Math.easeInOutQuad=function(e,t,r,i){return(e/=i/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t};var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function a(e,t,r){var a=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,n=e-a,o=0;t=void 0===t?500:t;!function e(){o+=20,function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}(Math.easeInOutQuad(o,a,n,t)),o<t?i(e):r&&"function"==typeof r&&r()}()}},ZySA:function(e,t,r){"use strict";var i=r("6ZY3"),a=r.n(i),n=(r("jUE0"),{bind:function(e,t){e.addEventListener("click",function(r){var i=a()({},t.value),n=a()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),o=n.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var l=o.getBoundingClientRect(),u=o.querySelector(".waves-ripple");switch(u?u.className="waves-ripple":((u=document.createElement("span")).className="waves-ripple",u.style.height=u.style.width=Math.max(l.width,l.height)+"px",o.appendChild(u)),n.type){case"center":u.style.top=l.height/2-u.offsetHeight/2+"px",u.style.left=l.width/2-u.offsetWidth/2+"px";break;default:u.style.top=(r.pageY-l.top-u.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",u.style.left=(r.pageX-l.left-u.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return u.style.backgroundColor=n.color,u.className="waves-ripple z-active",!1}},!1)}}),o=function(e){e.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(o)),n.install=o;t.a=n},aFNf:function(e,t,r){var i=r("c01Q"),a=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},aFx9:function(e,t,r){"use strict";r.d(t,"i",function(){return a}),r.d(t,"a",function(){return n}),r.d(t,"l",function(){return o}),r.d(t,"d",function(){return l}),r.d(t,"e",function(){return u}),r.d(t,"j",function(){return s}),r.d(t,"n",function(){return c}),r.d(t,"c",function(){return m}),r.d(t,"h",function(){return d}),r.d(t,"g",function(){return f}),r.d(t,"k",function(){return p}),r.d(t,"b",function(){return g}),r.d(t,"f",function(){return _}),r.d(t,"m",function(){return h});var i=r("t3Un");function a(e){return Object(i.a)({url:"/api/v1/common/admin/compose_file",method:"get",params:e})}function n(e){return Object(i.a)({url:"/api/v1/common/admin/compose_file",method:"post",data:e})}function o(e){return Object(i.a)({url:"/api/v1/common/admin/compose_file",method:"delete",data:e})}function l(e){return Object(i.a)({url:"/api/v1/common/admin/compose_file/"+e,method:"get"})}function u(e,t){return Object(i.a)({url:"/api/v1/common/admin/compose_file/"+e,method:"patch",data:t})}function s(e){return Object(i.a)({url:"/api/v1/common/admin/entity/group",method:"get",params:e})}function c(e){return Object(i.a)({url:"/api/v1/common/admin/entity/group",method:"delete",data:e})}function m(e){return Object(i.a)({url:"/api/v1/common/admin/entity/group",method:"post",data:e})}function d(e){return Object(i.a)({url:"/api/v1/common/admin/entity/group/"+e,method:"get"})}function f(e,t){return Object(i.a)({url:"/api/v1/common/admin/entity/group/"+e,method:"patch",data:t})}function p(e){return Object(i.a)({url:"/api/v1/common/admin/entity",method:"get",params:e})}function g(e){return Object(i.a)({url:"/api/v1/common/admin/entity",method:"post",data:e})}function _(e,t){return Object(i.a)({url:"/api/v1/common/admin/entity/"+e,method:"patch",data:t})}function h(e){return Object(i.a)({url:"/api/v1/common/admin/entity",method:"delete",data:e})}},higi:function(e,t,r){"use strict";var i=r("zZ89");r.n(i).a},jUE0:function(e,t,r){},ok1d:function(e,t,r){"use strict";r.r(t);var i=r("omC7"),a=r.n(i),n=r("uTCP"),o=r("tBjE"),l=r("i8oh"),u=r("Uyhf"),s=(r("MD+q"),r("Ibrk")),c=r("aFx9"),m=r("ZySA"),d=r("Mz3J"),f={components:{QuillEditor:n.a,Pagination:d.a,UploadFile:o.a,ChoiceImage:l.a},directives:{waves:m.a},data:function(){return{task_id:this.$route.query.task_id,showEn:!0,flagType:"1",subType:[],subTag:[],difficulty:[{name:"初级",id:0},{name:"中级",id:1},{name:"高级",id:2}],enclosureAry:[1],flagAry:[{flag:""}],is_base:"",search:"",os_type:"",is_image_type:"",image_type_list:[{label:"kvm",value:"kvm"},{label:"docker",value:"docker"},{label:"docker_compose",value:"docker_compose"}],os_type_list:[{label:"windows",value:"windows"},{label:"linux",value:"linux"}],flavorList:[],selectMirror:!1,ruleForm:{image_type:"kvm",image_uuid:"",image_name:"",source_port:80,flavor_uuid:"",flavor_name:"",flavor_message:"",docker_compose_name:"",docker_compose_id:"",file:[""],answer:[""],flag:[""],official_writeup:"",title:"",category_id:"",tag_id:"",weight:0,content:"",content_html:"",content_en:"",content_en_html:"",is_dynamic_flag:"",protocol:"",push_flag_script:"",public:1},rules:{title:[{required:!0,message:"请输入题目名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字",trigger:"blur"}],category_id:[{type:"number",required:!0,message:"请选择题目类型",trigger:"change"}],tag_id:[{type:"number",required:!0,message:"请选择题目类型",trigger:"change"}],image_type:[{required:!0,message:"请选择镜像类型",trigger:"change"}],flavor_uuid:[{required:!0,message:"请选择实例模板",trigger:"change"}],is_dynamic_flag:[{required:!0,message:"请选择Flag类型",trigger:"change"}],source_port:[{required:!0,message:"请输入题目端口",trigger:"blur"}]},isConfig:!1,configlist:[],selectConfigList:[],total:0,configParams:{limit:10,offset:1}}},created:function(){this.getSubType(),this.getFlavorInfo(),this.task_id&&this.subInfo()},beforeDestroy:function(){this.$store.dispatch("changeMatchName","")},methods:{confirmSelect:function(){this.isConfig=!1,this.selectConfigList.length&&(this.ruleForm.docker_compose_name=this.selectConfigList[0].name,this.ruleForm.docker_compose_id=this.selectConfigList[0].id)},changeSelectedMirrorList:function(e){e.length>1&&(this.$refs.MirrorListTable.clearSelection(),this.$refs.MirrorListTable.toggleRowSelection(e[1]),e.shift()),this.selectConfigList=e},getConfigList:function(){var e=this;Object(c.i)(this.configParams).then(function(t){e.configlist=t.data.row,e.total=t.data.total,e.isConfig=!0})},flavorSelectedChange:function(e){var t=this;this.flavorList.forEach(function(r){r.uuid==e&&(t.ruleForm.flavor_name=r.name,t.ruleForm.flavor_message=a()(r.msg))})},getFlavorInfo:function(){var e=this;Object(s.h)({page:1,per_page:999}).then(function(t){e.flavorList=t.data.data})},goBack:function(){history.back()},subInfo:function(){var e=this;Object(u.o)(this.task_id).then(function(t){for(var r in e.$store.dispatch("changeMatchName",t.data.title),e.ruleForm)e.ruleForm[r]=t.data[r];e.ruleForm.flag=t.data.answer})},handleType:function(e){0===e?(this.ruleForm.file=[""],this.ruleForm.flag=[""]):1===e?(this.ruleForm.file=[""],this.ruleForm.flag=[]):(this.ruleForm.file=[""],this.ruleForm.flag=[""],this.ruleForm.image_type="",this.ruleForm.image_uuid="",this.ruleForm.image_name="",this.ruleForm.flavor_uuid="",this.ruleForm.flavor_name="",this.ruleForm.flavor_message="",this.ruleForm.source_port="")},getSubType:function(){var e=this;Object(u.k)({type:5}).then(function(t){e.subType=t.data.rows}),Object(u.j)({type:5}).then(function(t){e.subTag=t.data.rows})},onSubmit:function(){var e=this;if(""!==this.ruleForm.flag[0]||1==this.ruleForm.is_dynamic_flag){if(2===this.ruleForm.is_dynamic_flag){for(var t=0;t<this.ruleForm.flag.length;t++)if(this.ruleForm.flag[t]&&!this.ruleForm.file[t])return void this.$message.error("附件必须和flag对应");for(var r=0;r<this.ruleForm.file.length;r++)if(this.ruleForm.file[r]&&1!==this.ruleForm.is_dynamic_flag&&!this.ruleForm.flag[r])return void this.$message.error("附件必须和flag对应")}if(1!=this.ruleForm.is_dynamic_flag||this.ruleForm.push_flag_script){var i=new FormData,a=this.ruleForm;for(var n in this.ruleForm.flag.forEach(function(e,t){i.append("flag"+t,e)}),this.ruleForm.file.forEach(function(t,r){i.append("file"+r,e.ruleForm.file[r])}),a)"file"!==n&&"flag"!==n&&i.append(n,a[n]);this.task_id?Object(u.c)(this.task_id,i).then(function(t){t.data.success&&(e.$message.success("操作成功"),e.$router.push({path:"/itemBank/jeopardy/index",query:{id:e.$route.query.id}}))}):Object(u.a)(i).then(function(t){t.data.success&&(e.$message.success("操作成功"),e.$router.push({path:"/itemBank/jeopardy/index",query:{id:t.data.event_id}}))})}else this.$message.error("请上传动态flag脚本文件")}else this.$message.error("请至少输入一个flag")},addEnc:function(){this.ruleForm.flag.push(""),this.ruleForm.file.push("")},removeEnc:function(e){this.ruleForm.flag.splice(e,1),this.ruleForm.file.splice(e,1)},submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return e.$message.error("请核验所输入的信息"),!1;e.onSubmit()})},resetForm:function(){this.$refs.ruleForm.resetFields()},changeImageType:function(){this.ruleForm.image_name="",this.ruleForm.image_uuid=""}}},p=(r("higi"),r("M3Ee"),r("ZrdR")),g=Object(p.a)(f,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container create_topic"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"200px"}},[r("el-form-item",{attrs:{label:"题目名称",prop:"title"}},[r("el-input",{attrs:{placeholder:"请输入题目名称"},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title","string"==typeof t?t.trim():t)},expression:"ruleForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"题目类型",prop:"category_id"}},[r("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择题目类型"},model:{value:e.ruleForm.category_id,callback:function(t){e.$set(e.ruleForm,"category_id",t)},expression:"ruleForm.category_id"}},e._l(e.subType,function(e,t){return r("el-option",{key:t,attrs:{label:e.cn_name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"题目难度"}},[r("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择题目难度"},model:{value:e.ruleForm.weight,callback:function(t){e.$set(e.ruleForm,"weight",t)},expression:"ruleForm.weight"}},e._l(e.difficulty,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"题目标签",prop:"tag_id"}},[r("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择题目标签"},model:{value:e.ruleForm.tag_id,callback:function(t){e.$set(e.ruleForm,"tag_id",t)},expression:"ruleForm.tag_id"}},e._l(e.subTag,function(e,t){return r("el-option",{key:t,attrs:{label:e.cn_name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"题目内容",prop:"resource"}},[r("quill-editor",{attrs:{holder:"请输入题目内容"},model:{value:e.ruleForm.content_html,callback:function(t){e.$set(e.ruleForm,"content_html",t)},expression:"ruleForm.content_html"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"题目内容英文"}},[r("quill-editor",{attrs:{holder:"请输入题目内容英文"},model:{value:e.ruleForm.content_en_html,callback:function(t){e.$set(e.ruleForm,"content_en_html",t)},expression:"ruleForm.content_en_html"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Flag类型",prop:"is_dynamic_flag"}},[r("el-select",{attrs:{disabled:!!e.task_id,placeholder:"请选择Flag类型"},on:{change:e.handleType},model:{value:e.ruleForm.is_dynamic_flag,callback:function(t){e.$set(e.ruleForm,"is_dynamic_flag",t)},expression:"ruleForm.is_dynamic_flag"}},[r("el-option",{attrs:{value:0,label:"静态Flag"}}),e._v(" "),r("el-option",{attrs:{value:1,label:"动态Flag"}}),e._v(" "),r("el-option",{attrs:{value:2,label:"随机Flag"}})],1)],1),e._v(" "),"2"!=e.ruleForm.is_dynamic_flag?[r("el-form-item",{attrs:{label:"镜像类型",prop:"image_type"}},[r("el-select",{attrs:{disabled:!!e.task_id,placeholder:"请选择镜像类型"},on:{change:e.changeImageType},model:{value:e.ruleForm.image_type,callback:function(t){e.$set(e.ruleForm,"image_type",t)},expression:"ruleForm.image_type"}},[r("el-option",{attrs:{value:"kvm",label:"kvm"}}),e._v(" "),r("el-option",{attrs:{value:"docker-compose",label:"docker-compose"}})],1)],1)]:e._e(),e._v(" "),"2"!=e.ruleForm.is_dynamic_flag&&"docker-compose"==e.ruleForm.image_type?[r("el-form-item",{attrs:{label:"配置文件",required:""}},[r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.getConfigList}},[e._v("选择\n          ")])],1),e._v(" "),r("el-col",{attrs:{span:18}},[e._v("\n          "+e._s(e.ruleForm.docker_compose_name)+"\n        ")])],1)]:e._e(),e._v(" "),"docker"==e.ruleForm.image_type||"docker-compose"==e.ruleForm.image_type?[r("el-form-item",{attrs:{label:"题目端口",prop:"source_port"}},[r("el-input-number",{attrs:{min:0,max:65535,precision:0,placeholder:"默认80端口"},model:{value:e.ruleForm.source_port,callback:function(t){e.$set(e.ruleForm,"source_port",t)},expression:"ruleForm.source_port"}})],1)]:e._e(),e._v(" "),"2"!=e.ruleForm.is_dynamic_flag&&"docker-compose"!=e.ruleForm.image_type?[r("el-form-item",{staticClass:"red_start",attrs:{label:"镜像选择"}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.selectMirror=!0}}},[e._v("选择\n        ")]),e._v("\n\n        "+e._s(e.ruleForm.image_name)+"\n      ")],1)]:e._e(),e._v(" "),"2"!=e.ruleForm.is_dynamic_flag?[r("el-form-item",{attrs:{prop:"flavor_uuid",label:"实例模板"}},[r("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择实例模板"},on:{change:e.flavorSelectedChange},model:{value:e.ruleForm.flavor_uuid,callback:function(t){e.$set(e.ruleForm,"flavor_uuid",t)},expression:"ruleForm.flavor_uuid"}},e._l(e.flavorList,function(e){return r("el-option",{key:e.uuid,attrs:{label:e.name+" / "+e.vcpus+"核 / "+e.memory+"MB / "+e.disk+"GB",value:e.uuid}})}))],1)]:e._e(),e._v(" "),0==e.ruleForm.is_dynamic_flag?r("div",[r("el-form-item",{attrs:{label:"题目附件"}},[r("UploadFile",{attrs:{file:e.ruleForm.file[0],"file-type":["zip"],"file-size":20971520},on:{"update:file":function(t){e.$set(e.ruleForm.file,0,t)}}}),e._v("\n        （请上传zip格式文件，大小不超过20M）\n      ")],1),e._v(" "),r("el-form-item",{staticClass:"red_start",attrs:{label:"题目Flag"}},[r("el-input",{attrs:{type:"input",placeholder:"请输入题目Flag"},model:{value:e.ruleForm.flag[0],callback:function(t){e.$set(e.ruleForm.flag,0,"string"==typeof t?t.trim():t)},expression:"ruleForm.flag[0]"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"赛题WP"}},[r("UploadFile",{attrs:{file:e.ruleForm.official_writeup,"file-type":["pdf","docx","md"]},on:{"update:file":function(t){e.$set(e.ruleForm,"official_writeup",t)}}}),e._v("\n        （请上传pdf,docx,md格式文件,大小不超过10M）\n      ")],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存 ")]),e._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:e.goBack}},[e._v(" 返回 ")])],1)],1):e._e(),e._v(" "),1==e.ruleForm.is_dynamic_flag?r("div",[r("el-form-item",{attrs:{label:"题目附件"}},[r("UploadFile",{ref:"zipFile",attrs:{file:e.ruleForm.file[0],"file-type":["zip"],"file-size":20971520},on:{"update:file":function(t){e.$set(e.ruleForm.file,0,t)}}}),e._v("\n        （请上传zip格式文件，大小不超过20M）\n      ")],1),e._v(" "),r("el-form-item",{attrs:{label:"动态flag脚本文件",prop:"is_dynamic_flag"}},[r("UploadFile",{attrs:{file:e.ruleForm.push_flag_script,"file-type":["sh"]},on:{"update:file":function(t){e.$set(e.ruleForm,"push_flag_script",t)}}}),e._v("\n        （请上传sh格式文件，大小不超过10M）\n      ")],1),e._v(" "),r("el-form-item",{attrs:{label:"赛题WP"}},[r("UploadFile",{attrs:{file:e.ruleForm.official_writeup,"file-type":["pdf","docx","md"]},on:{"update:file":function(t){e.$set(e.ruleForm,"official_writeup",t)}}}),e._v("\n        （请上传pdf,docx,md格式文件,大小不超过10M）\n      ")],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存 ")]),e._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:e.goBack}},[e._v("返回 ")])],1)],1):e._e(),e._v(" "),2==e.ruleForm.is_dynamic_flag?r("div",[r("el-form-item",{attrs:{label:"题目附件",prop:"is_dynamic_flag",required:""}},[r("div",[r("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.addEnc}}),e._v("\n          （注：请上传zip格式文件，大小不超过20M）\n        ")],1),e._v(" "),r("div",{staticClass:"randomBox"},[r("div",{staticClass:"uploadBox"},e._l(e.ruleForm.flag,function(t,i){return r("div",{key:i,staticClass:"mb10",staticStyle:{height:"36px"}},[r("UploadFile",{attrs:{file:e.ruleForm.file[i],"file-type":["zip"],"file-size":20971520},on:{"update:file":function(t){e.$set(e.ruleForm.file,i,t)}}})],1)})),e._v(" "),r("div",{staticClass:"flagBox"},e._l(e.ruleForm.flag,function(t,i){return r("div",{key:i,staticClass:"mb10"},[e._v("\n              flag:\n              "),r("el-input",{attrs:{width:"300px"},model:{value:e.ruleForm.flag[i],callback:function(t){e.$set(e.ruleForm.flag,i,"string"==typeof t?t.trim():t)},expression:"ruleForm.flag[index]"}}),e._v(" "),e.ruleForm.flag.length>1?r("el-button",{attrs:{type:"danger",icon:"el-icon-close"},on:{click:function(t){e.removeEnc(i)}}}):e._e()],1)}))])]),e._v(" "),r("el-form-item",{attrs:{label:"赛题WP"}},[r("UploadFile",{attrs:{file:e.ruleForm.official_writeup,"file-type":["pdf","docx","md"]},on:{"update:file":function(t){e.$set(e.ruleForm,"official_writeup",t)}}}),e._v("\n        （请上传pdf,docx,md格式文件,大小不超过10M）\n      ")],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存 ")]),e._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:e.goBack}},[e._v("返回 ")])],1)],1):e._e()],2),e._v(" "),e.selectMirror?r("ChoiceImage",{attrs:{image_name:e.ruleForm.image_name,image_uuid:e.ruleForm.image_uuid,type:e.ruleForm.image_type,"select-mirror":e.selectMirror},on:{"update:image_name":function(t){e.$set(e.ruleForm,"image_name",t)},"update:image_uuid":function(t){e.$set(e.ruleForm,"image_uuid",t)},"update:selectMirror":function(t){e.selectMirror=t}}}):e._e(),e._v(" "),r("el-dialog",{attrs:{visible:e.isConfig,title:"配置文件选择"},on:{"update:visible":function(t){e.isConfig=t}}},[r("el-table",{ref:"MirrorListTable",staticClass:"img_table",attrs:{data:e.configlist,border:"","tooltip-effect":"dark"},on:{"selection-change":e.changeSelectedMirrorList}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{type:"index",width:"55",label:"序号"}}),e._v(" "),r("el-table-column",{attrs:{label:"配置名称",align:"center",prop:"name"}}),e._v(" "),r("el-table-column",{attrs:{prop:"remark",align:"center",label:"备注","show-overflow-tooltip":""}})],1),e._v(" "),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.configParams.offset,limit:e.configParams.limit},on:{"update:page":function(t){e.$set(e.configParams,"offset",t)},"update:limit":function(t){e.$set(e.configParams,"limit",t)},pagination:e.getConfigList}}),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),e._v(" "),r("el-button",{on:{click:function(t){e.isConfig=!1}}},[e._v("取 消")])],1)],1)],1)},[],!1,null,null,null);g.options.__file="index.vue";t.default=g.exports},omC7:function(e,t,r){e.exports={default:r("aFNf"),__esModule:!0}},zZ89:function(e,t,r){}}]);