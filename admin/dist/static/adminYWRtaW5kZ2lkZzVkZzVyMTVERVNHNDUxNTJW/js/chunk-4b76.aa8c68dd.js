(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4b76"],{CquO:function(e,t,n){"use strict";n.d(t,"y",function(){return a}),n.d(t,"l",function(){return i}),n.d(t,"X",function(){return o}),n.d(t,"x",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"p",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"B",function(){return m}),n.d(t,"cb",function(){return l}),n.d(t,"J",function(){return p}),n.d(t,"I",function(){return h}),n.d(t,"U",function(){return f}),n.d(t,"V",function(){return v}),n.d(t,"ib",function(){return b}),n.d(t,"Q",function(){return _}),n.d(t,"R",function(){return j}),n.d(t,"f",function(){return y}),n.d(t,"w",function(){return O}),n.d(t,"eb",function(){return g}),n.d(t,"A",function(){return k}),n.d(t,"H",function(){return F}),n.d(t,"D",function(){return w}),n.d(t,"O",function(){return x}),n.d(t,"r",function(){return $}),n.d(t,"m",function(){return N}),n.d(t,"bb",function(){return I}),n.d(t,"h",function(){return q}),n.d(t,"o",function(){return z}),n.d(t,"E",function(){return C}),n.d(t,"k",function(){return A}),n.d(t,"Y",function(){return M}),n.d(t,"K",function(){return L}),n.d(t,"z",function(){return T}),n.d(t,"C",function(){return V}),n.d(t,"c",function(){return H}),n.d(t,"d",function(){return S}),n.d(t,"hb",function(){return U}),n.d(t,"jb",function(){return J}),n.d(t,"Z",function(){return W}),n.d(t,"ab",function(){return D}),n.d(t,"fb",function(){return E}),n.d(t,"gb",function(){return G}),n.d(t,"u",function(){return P}),n.d(t,"G",function(){return R}),n.d(t,"b",function(){return Z}),n.d(t,"W",function(){return B}),n.d(t,"v",function(){return K}),n.d(t,"n",function(){return Q}),n.d(t,"i",function(){return X}),n.d(t,"L",function(){return Y}),n.d(t,"e",function(){return ee}),n.d(t,"M",function(){return te}),n.d(t,"T",function(){return ne}),n.d(t,"F",function(){return re}),n.d(t,"db",function(){return ae}),n.d(t,"N",function(){return ie}),n.d(t,"a",function(){return oe}),n.d(t,"P",function(){return ue}),n.d(t,"q",function(){return de}),n.d(t,"S",function(){return se}),n.d(t,"t",function(){return ce}),n.d(t,"s",function(){return me});var r=n("t3Un");function a(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/events",method:"get",params:e})}function i(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/events/batch_destroy",method:"delete",data:e})}function o(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/events/batch_public",method:"patch",data:e})}function u(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/events/"+e,method:"get"})}function d(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/events/"+e,method:"delete",data:t})}function s(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/events/"+e,method:"patch",data:t})}function c(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/events",method:"post",data:e})}function m(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/events/"+e+"/users",method:"get"})}function l(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/events/"+e+"/users",method:"post",data:t})}function p(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/tasks",method:"get",params:e})}function h(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/users",method:"get",params:e})}function f(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/state",method:"get",params:e})}function v(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event_mode/"+e,method:"get"})}function b(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/state",method:"patch",params:e,data:t})}function _(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/init_env/",method:"post",data:e})}function j(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/"+e+"/networks",method:"post"})}function y(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/data/clear",method:"delete",params:e})}function O(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/import_tasks_details",method:"get",params:e})}function g(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event_tasks/batch_create",method:"post",data:e})}function k(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/task_tags",method:"get"})}function F(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/task_categorys",method:"get"})}function w(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event_tasks",method:"get",params:e})}function x(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/"+e+"/tasks/scores",method:"post",data:t})}function $(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/"+e+"/tasks/scores",method:"patch",data:t})}function N(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event_tasks/batch_destroy",method:"delete",data:e})}
//! 解题赛 创建竞赛  编辑题目回显
function I(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event_tasks/"+e,method:"get"})}function q(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event_tasks",method:"post",data:e})}
//! 解题赛 创建竞赛  保存编辑题目
function z(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/event_tasks/"+e,method:"patch",data:t})}function C(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/task_categorys",method:"get"})}function A(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/event_tasks/"+e,method:"delete",data:{index:t}})}function M(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event_tasks/batch_public",method:"patch",data:e})}function L(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/instances",method:"get",params:e})}function T(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/notices",method:"get",params:e})}function V(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/task/notices",method:"get",params:e})}function H(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/notices",method:"post",data:e})}function S(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/task/notices",method:"post",data:e})}function U(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/notices",method:"patch",params:e,data:t})}function J(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/task/notices",method:"patch",params:e,data:t})}function W(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/notices",method:"delete",data:e})}function D(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/task/notices",method:"delete",data:e})}function E(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/notices/top",method:"patch",data:e})}function G(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/task/notices/top",method:"patch",data:e})}function P(e,t){return Object(r.a)({method:"get",url:"/api/v1/jeopardy/admin/event/"+e+"/networks",params:t})}function R(e){return Object(r.a)({method:"get",url:"/api/v1/jeopardy/admin/event/"+e+"/groups"})}function Z(e,t){return Object(r.a)({method:"post",url:"/api/v1/jeopardy/admin/event/"+e+"/networks",data:t})}function B(e){return Object(r.a)({method:"get",url:"/api/v1/jeopardy/admin/event/check_network/"+e})}function K(e,t,n){return Object(r.a)({method:"get",url:"/api/v1/jeopardy/admin/event/"+e+"/networks/"+t,data:n})}function Q(e,t,n){return Object(r.a)({method:"patch",url:"/api/v1/jeopardy/admin/event/"+e+"/networks/"+t,data:n})}function X(e,t){return Object(r.a)({method:"delete",url:"/api/v1/jeopardy/admin/event/"+e+"/networks",data:t})}function Y(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/players",method:"get",params:e})}function ee(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/player/bans",method:"PATCH",data:e})}function te(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/player/score",method:"get",params:e})}function ne(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/player/score",method:"patch",data:e})}function re(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/player/reward",method:"get",params:e})}function ae(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/player/reward",method:"post",data:e})}function ie(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/scores",method:"get",params:e})}function oe(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/score/player",method:"get",params:e})}function ue(e){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/view",method:"get",params:e})}function de(e,t){return Object(r.a)({url:"/api/v1/jeopardy/admin/event/view",method:"patch",params:e,data:t})}function se(e){return Object(r.a)({method:"patch",url:"/api/v1/jeopardy/admin/event/init_scene",params:e})}function ce(e){return Object(r.a)({method:"get",url:"/api/v1/jeopardy/admin/event/data/export",params:e,responseType:"blob"})}function me(e){return Object(r.a)({method:"get",url:"/api/v1/jeopardy/admin/event/wps/export",params:e,responseType:"blob"})}},"IU+H":function(e,t,n){"use strict";var r=n("e484");n.n(r).a},e484:function(e,t,n){},kmH3:function(e,t,n){"use strict";n.r(t);var r=n("twWv"),a=n("CquO"),i={data:function(){return{mode:null,is_share:!1,is_user_share:!0,teamNum:0,ruleForm:{is_share:!1,vlan:"",ip:"",gateway:"",mask:""},senceForm:{_is_share:!1,_vlan:"",_ip:"",_gateway:"",_mask:""},id:this.$route.query.id,internet_id:this.$route.query.internet_id,timer:null,num:0,loadingId:null}},created:function(){var e=this;Object(a.U)(this.$route.query.id).then(function(t){e.mode=t.data.mode}),this.getTeamNum(),this.internet_id&&this.getInfo()},beforeDestroy:function(){clearInterval(this.timer)},methods:{goback:function(){this.$router.push({path:"/competition/jeopardy/editMatch/editMatch",query:{id:this.id,step:3}})},getTeamNum:function(){var e=this;Object(a.G)(this.id).then(function(t){e.teamNum=t.data.groups})},getInfo:function(){var e=this;Object(a.v)(this.id,this.internet_id).then(function(t){var n=t.data;if(e.is_share=n._is_share,n._is_share)for(var r in e.senceForm)e.senceForm[r]=n[r];else for(var a in e.ruleForm)e.ruleForm[a]=n[a]})},onSubmit:function(){var e=this;if(this.internet_id)this.is_share?Object(a.n)(this.id,this.internet_id,this.senceForm).then(function(t){t.data.success&&e.$router.push({path:"/competition/jeopardy/editMatch/editMatch",query:{id:e.id,step:3}})}):Object(a.n)(this.id,this.internet_id,this.ruleForm).then(function(t){t.data.success&&e.$router.push({path:"/competition/jeopardy/editMatch/editMatch",query:{id:e.id,step:3}})});else{var t={};if(this.senceForm._is_share&&(t=this.senceForm),this.is_user_share&&(t=this.ruleForm),this.is_user_share&&this.senceForm._is_share)for(var n in this.senceForm)this.ruleForm[n]=this.senceForm[n];Object(a.b)(this.id,t).then(function(t){t.data.success&&"creating"===t.data.status&&(e.loadingId=r.Loading.service({lock:!0,text:"网络创建中，请稍后",background:"rgba(0, 0, 0, 0.7)"}),e.timer=setInterval(function(){e.pollingAdd(t.data.id)},1e3))})}},pollingAdd:function(e){var t=this;Object(a.W)(e).then(function(e){e.data.success?(t.num++,t.num>300&&(clearInterval(t.timer),t.num=0,t.$message.error("创建失败"),t.loadingId.close()),"created"===e.data.status&&(clearInterval(t.timer),t.loadingId.close(),t.$router.push({path:"/competition/jeopardy/editMatch/editMatch",query:{id:t.id,step:3}}))):(clearInterval(t.timer),t.loadingId.close(),t.num=0)})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.error("填写信息有误"),!1;t.is_user_share||t.senceForm._is_share?t.onSubmit():t.$message.error("请至少选择一项")})}}},o=(n("IU+H"),n("ZrdR")),u=Object(o.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container create_internet"},[e.is_share&&e.internet_id?e._e():n("div",{staticClass:"internet_box"},[n("el-checkbox",{model:{value:e.is_user_share,callback:function(t){e.is_user_share=t},expression:"is_user_share"}},[e._v("用户网络信息创建（每账号创建一个VLAN，用户题目环境网络地址与用户段地址处于相同的VLAN）")]),e._v(" "),n("el-form",{ref:"ruleForm",staticClass:"internet_form",attrs:{model:e.ruleForm,"label-width":"130px"}},[e.internet_id?e._e():n("el-form-item",{attrs:{label:1==e.mode?"用户数量":"队伍数量",prop:"name_zh"}},[n("el-input.trim",{attrs:{disabled:"",placeholder:"请填写竞赛名称"},model:{value:e.teamNum,callback:function(t){e.teamNum=t},expression:"teamNum"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.internet_id?"VLAN":"VLAN范围",prop:"name_zh"}},[n("el-input",{staticStyle:{width:"48%"},attrs:{disabled:!e.is_user_share,placeholder:"例如：1050"},model:{value:e.ruleForm.vlan,callback:function(t){e.$set(e.ruleForm,"vlan",t)},expression:"ruleForm.vlan"}}),e._v(" "),e.internet_id?e._e():n("span",[e._v("\n          --\n          "),n("el-input",{staticStyle:{width:"48%"},attrs:{disabled:""},model:{value:1*e.ruleForm.vlan+1*e.teamNum-1,callback:function(t){e.$set(e.ruleForm,"vlan*1+teamNum*1-1","string"==typeof t?t.trim():t)},expression:"ruleForm.vlan*1+teamNum*1-1"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"网络地址配置",prop:"name_zh"}},[n("el-input",{attrs:{disabled:!e.is_user_share,placeholder:"例如：10.20.1.20"},model:{value:e.ruleForm.ip,callback:function(t){e.$set(e.ruleForm,"ip","string"==typeof t?t.trim():t)},expression:"ruleForm.ip"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"网络掩码配置",prop:"name_zh"}},[n("el-input",{attrs:{disabled:!e.is_user_share,placeholder:"例如：255.255.255.0"},model:{value:e.ruleForm.mask,callback:function(t){e.$set(e.ruleForm,"mask","string"==typeof t?t.trim():t)},expression:"ruleForm.mask"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"网关统一配置",prop:"name_zh"}},[n("el-input",{attrs:{disabled:!e.is_user_share,placeholder:"例如：10.20.1.254"},model:{value:e.ruleForm.gateway,callback:function(t){e.$set(e.ruleForm,"gateway","string"==typeof t?t.trim():t)},expression:"ruleForm.gateway"}})],1)],1)],1),e._v(" "),e.is_share||!e.internet_id?n("div",{staticClass:"internet_box"},[n("el-checkbox",{model:{value:e.senceForm._is_share,callback:function(t){e.$set(e.senceForm,"_is_share",t)},expression:"senceForm._is_share"}},[e._v("共享场景题目网络创建（竞赛中所有共享题目使用如下网络信息）")]),e._v(" "),n("el-form",{ref:"ruleForm",staticClass:"internet_form",attrs:{model:e.ruleForm,"label-width":"130px"}},[n("el-form-item",{attrs:{label:"VLAN",prop:"name_zh"}},[n("el-input",{attrs:{disabled:!e.senceForm._is_share,placeholder:"例如：1050"},model:{value:e.senceForm._vlan,callback:function(t){e.$set(e.senceForm,"_vlan","string"==typeof t?t.trim():t)},expression:"senceForm._vlan"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"网络地址配置",prop:"name_zh"}},[n("el-input",{attrs:{disabled:!e.senceForm._is_share,placeholder:"例如：10.20.1.20"},model:{value:e.senceForm._ip,callback:function(t){e.$set(e.senceForm,"_ip","string"==typeof t?t.trim():t)},expression:"senceForm._ip"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"网络掩码配置",prop:"name_zh"}},[n("el-input",{attrs:{disabled:!e.senceForm._is_share,placeholder:"例如：255.255.255.0"},model:{value:e.senceForm._mask,callback:function(t){e.$set(e.senceForm,"_mask","string"==typeof t?t.trim():t)},expression:"senceForm._mask"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"网关统一配置",prop:"name_zh"}},[n("el-input",{attrs:{disabled:!e.senceForm._is_share,placeholder:"例如：10.20.1.254"},model:{value:e.senceForm._gateway,callback:function(t){e.$set(e.senceForm,"_gateway","string"==typeof t?t.trim():t)},expression:"senceForm._gateway"}})],1)],1)],1):e._e(),e._v(" "),n("div",{staticClass:"fcenter"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:function(t){e.goback()}}},[e._v("返回")])],1)])},[],!1,null,null,null);u.options.__file="index.vue";t.default=u.exports}}]);