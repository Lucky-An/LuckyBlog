(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3422"],{"QQl/":function(t,e,n){"use strict";n.r(e);var a=n("Mz3J"),s=n("ZySA"),i=n("gyXm"),o=n("sJDp"),r=n("7Qib"),c={name:"Config",directives:{waves:s.a,clipboard:i.a},components:{Pagination:a.a},data:function(){return{indexMethod:r.c,matchList:[],ids:[],listTotal:0,listPage:1,listQuery:{offset:1,limit:this.$store.state.config.row}}},created:function(){this.getList()},methods:{getList:function(){var t=this;Object(o.b)(this.listQuery).then(function(e){var n=e.data;t.matchList=n.resources})},control:function(t){var e=this;this.ids.forEach(function(n){var a={action:t,hostname:n};Object(o.a)(a).then(function(t){t.data.success&&(e.$message.success("操作成功"),e.getList())})})},checkTable:function(t){this.ids=t.map(function(t){return t.hostname})}}},l=(n("cjE+"),n("ZrdR")),u=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("div",{staticClass:"title"},[n("span",[t._v(" 集群运行状况 ")]),t._v(" "),n("span",{staticClass:"fr"},[n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.control("power_off")}}},[t._v("关机")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.control("restart")}}},[t._v("重启")])],1)]),t._v(" "),n("el-table",{attrs:{data:t.matchList,border:""},on:{"selection-change":t.checkTable}},[n("el-table-column",{attrs:{align:"center",type:"selection"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"name",label:"序号",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t.indexMethod(t.listQuery.offset,t.listQuery.limit,e.$index)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"hostname",label:"节点名称"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"ip",label:"节点IP"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"role",label:"角色"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" 从节点 ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"status",label:"服务状态"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"vcpus_used",label:"cpu"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.vcpus)+"核 |\n          "+t._s(e.row.vcpus_used)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"memory_rate",align:"center",label:"内存"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.memory)+" |\n          "+t._s(e.row.memory_used)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"disk_rate",align:"center",label:"硬盘"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.disk)+" |\n          "+t._s(e.row.disk_used)+"\n        ")]}}])})],1)],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.listTotal>0,expression:"listTotal > 0"}],attrs:{total:t.listTotal,page:t.listQuery.offset,limit:t.listQuery.limit},on:{"update:page":function(e){t.$set(t.listQuery,"offset",e)},"update:limit":function(e){t.$set(t.listQuery,"limit",e)},pagination:t.getList}})],1)},[],!1,null,"3987ebcb",null);u.options.__file="index.vue";e.default=u.exports},"cjE+":function(t,e,n){"use strict";var a=n("loll");n.n(a).a},loll:function(t,e,n){},sJDp:function(t,e,n){"use strict";n.d(e,"g",function(){return s}),n.d(e,"f",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"e",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var a=n("t3Un");function s(t){return Object(a.a)({url:"/api/v1/common/admin/system/events",method:"get",params:t})}function i(t,e){return Object(a.a)({url:"/api/v1/common/admin/system/"+t+"/vpn",method:"get",params:e})}function o(t,e){return Object(a.a)({url:"/api/v1/common/admin/system/"+t+"/vpn",method:"post",data:e})}function r(t,e){return Object(a.a)({url:"/api/v1/common/admin/system/"+t+"/mac",method:"get",params:e})}function c(t,e){return Object(a.a)({url:"/api/v1/common/admin/system/"+t+"/mac",method:"delete",data:e})}function l(t){return Object(a.a)({url:"/api/v1/common/admin/system/clusters",method:"get",params:t})}function u(t){return Object(a.a)({url:"/api/v1/common/admin/system/clusters",method:"post",data:t})}}}]);