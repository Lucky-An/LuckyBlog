(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5a550c6"],{"09f4":function(t,a,e){"use strict";e.d(a,"a",(function(){return l})),Math.easeInOutQuad=function(t,a,e,s){return t/=s/2,t<1?e/2*t*t+a:(t--,-e/2*(t*(t-2)-1)+a)};var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function i(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function n(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(t,a,e){var l=n(),o=t-l,c=20,r=0;a="undefined"===typeof a?500:a;var _=function t(){r+=c;var n=Math.easeInOutQuad(r,l,o,a);i(n),r<a?s(t):e&&"function"===typeof e&&e()};_()}},"0c36":function(t,a,e){},"430f":function(t,a,e){"use strict";var s=e("5b1b"),i=e.n(s);i.a},5839:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"taskcon"},[s("PlayerInfo",{staticStyle:{"margin-top":"30px"},attrs:{"show-round":!0}}),s("div",{staticClass:"listcon"}),s("card",{scopedSlots:t._u([{key:"task_body",fn:function(a){return s("div",{},[s("div",{staticClass:"status",class:{status1:1==a.now_item.status,status2:2==a.now_item.status,status3:3==a.now_item.status,status4:4==a.now_item.status,status5:5==a.now_item.status}},[5==a.now_item.status?s("span",{},[s("img",{staticClass:"img_status",attrs:{src:e("40b6"),alt:""}})]):t._e(),4==a.now_item.status?s("span",{},[s("img",{staticClass:"img_status",attrs:{src:e("b7ba"),alt:""}})]):t._e(),3==a.now_item.status?s("span",{},[s("img",{staticClass:"img_status",attrs:{src:e("9788"),alt:""}})]):t._e(),2==a.now_item.status?s("span",[s("img",{staticClass:"img_status",attrs:{src:e("c194"),alt:""}})]):t._e(),1==a.now_item.status?s("span",[s("img",{staticClass:"img_status",attrs:{src:e("1f5c"),alt:""}})]):t._e(),s("div",{staticClass:"path_button",class:{cando:2==a.now_item.status||3==a.now_item.status,notdo:1==a.now_item.status||4==a.now_item.status||5==a.now_item.status},on:{click:function(e){return t.submit_path_box(a.now_item)}}},[t._v(" "+t._s(t.$t("attack.question_board.submit_path"))+" ")]),1==a.now_item.status?s("div",{staticClass:"look_something"},[s("span",{staticStyle:{cursor:"not-allowed"}},[t._v(t._s(t.$t("attack.question_board.download_file")))]),s("br"),s("span",{staticClass:"fanga",staticStyle:{cursor:"not-allowed"}},[t._v(t._s(t.$t("attack.question_board.look_packages")))]),s("br"),s("span",{staticClass:"fanga",staticStyle:{cursor:"not-allowed"}},[t._v(t._s(t.$t("attack.question_board.look_path")))])]):s("div",{staticClass:"look_something"},[s("a",{attrs:{href:t.api.get_attachment+"?event_id="+t.match_id+"&challenge_id="+a.now_item.challenge_id,download:""}},[t._v(t._s(t.$t("attack.question_board.download_file")))]),s("br"),s("span",{staticClass:"fanga",on:{click:function(e){return t.view_flow(a.now_item,0)}}},[t._v(t._s(t.$t("attack.question_board.look_packages")))]),s("br"),s("span",{staticClass:"fanga",on:{click:function(e){return t.view_path(a.now_item,0)}}},[t._v(t._s(t.$t("attack.question_board.look_path")))])])])])}}])}),s("ClickHere",{attrs:{mac:!1}}),s("el-dialog",{staticClass:"my-dialog view_path view_flow",attrs:{width:"900px",title:t.now_look.challenge_name+t.$t("attack.question_board.paths.submit_path"),visible:t.path_visible},on:{"update:visible":function(a){t.path_visible=a}}},[s("el-table",{staticStyle:{width:"100%"},attrs:{id:"view_flow_table",data:t.tableData,border:""}},[s("el-table-column",{attrs:{label:" ",type:"index",width:"50"}}),s("el-table-column",{attrs:{prop:"name",label:t.$t("attack.question_board.path_table.submitter"),width:"120"}}),s("el-table-column",{attrs:{prop:"round",label:t.$t("attack.question_board.path_table.submit_file")}}),s("el-table-column",{attrs:{prop:"create_time",label:t.$t("attack.question_board.path_table.submit_time"),width:"180"}}),s("el-table-column",{attrs:{prop:"status",label:t.$t("attack.question_board.path_table.submit_status"),width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[4==a.row.status?s("span",{staticStyle:{color:"#337aff"}},[t._v(t._s(t.$t("attack.question_board.paths.success")))]):0==a.row.status?s("span",{staticStyle:{color:"#ce091e"}},[t._v(t._s(t.$t("attack.question_board.paths.undetected")))]):s("span",{staticStyle:{color:"#ce091e"}},[t._v(t._s(t.$t("attack.question_board.paths.fail")))])]}}])}),s("el-table-column",{attrs:{prop:"md5value",label:t.$t("attack.question_board.path_table.md5")}})],1),s("div",{staticStyle:{"text-align":"center","margin-top":"15px"}},[s("pagination",{directives:[{name:"show",rawName:"v-show",value:t.pager.total>t.pager.pageSize,expression:"pager.total > pager.pageSize"}],attrs:{total:t.pager.total,page:t.pager.currentPage,limit:t.pager.pageSize,layout:t.pager.layout},on:{"update:page":function(a){return t.$set(t.pager,"currentPage",a)},"update:limit":function(a){return t.$set(t.pager,"pageSize",a)},pagination:function(a){return t.view_path(t.now_look,1)}}})],1)],1),s("el-dialog",{staticClass:"my-dialog view_flow",attrs:{width:"700px",title:t.now_look.challenge_name+t.$t("attack.question_board.paths.look_flow"),visible:t.flow_visible},on:{"update:visible":function(a){t.flow_visible=a}}},[s("el-table",{staticStyle:{width:"100%"},attrs:{id:"view_flow_table",data:t.flowData,border:""}},[s("el-table-column",{attrs:{label:" ",type:"index",width:"100"}}),s("el-table-column",{attrs:{prop:"file",label:t.$t("attack.question_board.flow_table.flow_file")}}),s("el-table-column",{attrs:{prop:"time",label:t.$t("attack.question_board.flow_table.open_time"),width:"180"}}),s("el-table-column",{attrs:{prop:"download",label:t.$t("attack.question_board.flow_table.download"),width:"140"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("span",{staticStyle:{color:"#337aff"}},[s("a",{staticStyle:{color:"#3160ca"},attrs:{href:t.api.get_tcp+"?event_id="+t.match_id+"&challenge_id="+t.now_look.challenge_id+"&packages="+a.row.file,download:a.row.file}},[t._v(t._s(t.$t("attack.question_board.paths.download")))])])]}}])})],1),s("div",{staticStyle:{"text-align":"center","margin-top":"15px"}},[s("pagination",{directives:[{name:"show",rawName:"v-show",value:t.pager.total>t.pager.pageSize,expression:"pager.total > pager.pageSize"}],attrs:{total:t.pager.total,page:t.pager.currentPage,limit:t.pager.pageSize,layout:t.pager.layout},on:{"update:page":function(a){return t.$set(t.pager,"currentPage",a)},"update:limit":function(a){return t.$set(t.pager,"pageSize",a)},pagination:function(a){return t.view_flow(t.now_look,1)}}})],1)],1),s("el-dialog",{staticClass:"my-dialog submit_flag",attrs:{width:"720px",title:t.now_look.challenge_name+t.$t("attack.question_board.paths.path_list"),visible:t.flag_visible,center:""},on:{"update:visible":function(a){t.flag_visible=a}}},[s("el-form",[s("el-form-item",{attrs:{label:t.$t("attack.question_board.paths.path_list")+":"}},[s("div",{staticClass:"select_path"},[s("el-button",{attrs:{type:"primary"}},[t._v(t._s(t.$t("selfHelp_competition.chose_file")))]),s("input",{attrs:{id:"",type:"file",name:""},on:{change:t.changeTpc}})],1),t._v(" "+t._s(t.file_name)+" ")]),s("el-form-item",{attrs:{label:t.$t("attack.question_board.paths.rule")+":"}},[t._v(t._s(t.path_rules))])],1),s("span",{staticClass:"submit_handle",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"confirm_btn",attrs:{size:"small",type:"primary"},on:{click:t.submitTcp}},[t._v(" "+t._s(t.$t("question.submit")))]),s("el-button",{staticClass:"cancel_btn",attrs:{size:"small"},on:{click:function(a){t.flag_visible=!1}}},[t._v(" "+t._s(t.$t("modal.cancel"))+" ")])],1)],1)],1)},i=[],n=(e("053b"),e("e793")),l=e("242e"),o=e("29bc"),c=e("4d86"),r=e("52c1"),_=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"guide_wrap",staticStyle:{padding:"0"}},[s("div",{staticClass:"task_list"},[t.task_data.length<=6?s("ul",{staticClass:"clearfix"},[t._l(t.task_data,(function(a,e){return s("li",{key:a.challenge_name+e,class:{liStatus1:1==a.status,liStatus2:2==a.status,liStatus3:3==a.status,liStatus4:4==a.status,liStatus5:5==a.status}},[s("div",{staticClass:"title"},[t._v(t._s(a.challenge_name))]),t._t("task_body",null,{now_item:a})],2)})),t._l(6-t.task_data.length,(function(a,i){return s("li",{key:i,staticClass:"liStatus1",staticStyle:{"text-align":"center"}},[s("img",{staticStyle:{"margin-top":"30%",width:"55%","margin-bottom":"20px"},attrs:{src:e("215b"),alt:""}}),s("span",{staticStyle:{color:"#5f648e",width:"100%",display:"inline-block","font-size":"14px"}},[t._v(t._s(t.$t("attack.question_board.no_more_question")))])])}))],2):s("div",[s("span",{staticClass:"prev_btn",class:{dis_prev:this.list_number>=0},on:{click:t.prev_handle}}),s("div",{staticClass:"min_7"},[s("ul",{staticClass:"one_line"},t._l(t.task_data,(function(a,e){return s("li",{key:e,class:{liStatus1:3==a.status,liStatus2:2==a.status,liStatus3:1==a.status||4==a.status||5==a.status},attrs:{id:"hahahah"+e}},[s("div",{staticClass:"title"},[t._v(t._s(a.challenge_name))]),t._t("task_body",null,{now_item:a})],2)})),0)]),s("span",{staticClass:"next_btn",class:{dis_next:Math.abs(this.list_number)==t.n},on:{click:t.next_handle}})])]),s("div",{staticClass:"attack_info"},[s("el-row",[s("el-col",{attrs:{span:15}},[s("div",{staticClass:"grid-content bg-purple attack_match_info"},[s("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("attack.question_board.match_info"))+" "),s("span",{staticClass:"download_task_info",on:{click:t.downloadFile}},[s("span",{staticStyle:{"vertical-align":"middle"}}),s("span",[t._v(t._s(t.$t("attack.question_board.download_info")))])])]),s("div",{staticClass:"table_wraps",attrs:{slot:"content_begin"},slot:"content_begin"},["{}"==JSON.stringify(t.flag_data)?s("div",{staticStyle:{color:"#fff"}},[t._v(t._s(t.$t("el.table.emptyText")))]):s("div",[s("div",{staticClass:"tables"},[s("div",[s("span",[t._v(t._s(t.$t("attack.question_board.name")))]),s("span",[t._v(t._s(t.flag_data.name))])]),s("div",[s("span",[t._v("Token")]),s("span",[t._v(t._s(t.flag_data.token))])]),s("div",[s("span",[t._v(t._s(t.$t("attack.question_board.url")))]),s("span",[t._v(t._s(t.flag_data.submit_url))])]),s("div",[s("span",[t._v(t._s(t.$t("attack.question_board.type")))]),s("span",[t._v(t._s(t.flag_data.method))])]),s("div",[s("span",[t._v(t._s(t.$t("attack.question_board.mode")))]),s("span",[t._v(t._s(t.flag_data.format))])])]),s("div",{staticClass:"write_flags clearfix"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.is_flag,expression:"is_flag"}],attrs:{type:"text",placeholder:t.$t("attack.question_board.enter_flag")},domProps:{value:t.is_flag},on:{input:function(a){a.target.composing||(t.is_flag=a.target.value)}}}),s("button",{staticClass:"submit_Flag",on:{click:t.send_the_flag}},[t._v(t._s(t.$t("modal.submit")))])])])])])]),s("el-col",{attrs:{span:9}},[s("div",{staticClass:"grid-content bg-purple attack_view_list attack_view_list_right"},[s("div",{staticClass:"title"},[t._v(t._s(t.$t("attack.question_board.attacked_list")))]),t.attack_data.length?s("ul",{staticClass:"view_list"},t._l(t.attack_data,(function(a,e){return s("li",{key:e},[t._v(" "+t._s(t.$t("attack.question_board.user"))+" "),s("span",{staticClass:"blues"},[t._v(t._s(a.attack_name))]),t._v(" "+t._s(t.$t("attack.question_board.attack"))+" "),s("span",{staticClass:"blues"},[t._v(t._s(a.challenge_name))]),s("time",{staticClass:"blues",staticStyle:{float:"right"}},[t._v(t._s(a.time))])])})),0):s("div",{staticClass:"view_list"},[s("div",{staticClass:"tscon"},[t._v(t._s(t.$t("el.table.emptyText")))])])])])],1)],1)])},u=[],d=(e("513c"),e("e35a"),e("0d7a"),e("9020")),p=e("a336"),h=e.n(p),f=e("2934"),g=e("989b"),m={name:"AttackQuestionBoard",components:{},data:function(){return{flag_data:[],task_data:[],attack_data:[],list_number:0,list_width:0,n:0,marginR:0,is_flag:"",id:this.$route.query.id}},watch:{task_data:function(t,a){var e=this;t.length>6&&this.$nextTick((function(){e.line_width()}))}},beforeDestroy:function(){clearInterval(this.getDataTimer)},created:function(){var t=this;this.getAttackedList(),this.getTaskData(),this.competitionlist(),this.getDataTimer=setInterval((function(){t.getAttackedList(),t.getTaskData()}),3e4)},mounted:function(){var t=this;this.task_data.length>6&&(this.line_width(),this.listwidth()),window.onresize=function(){t.listwidth(),t.task_data.length>6&&(t.line_width(),t.change_left())}},methods:{getTaskData:function(){var t=this;Object(d["c"])({event_id:this.$route.query.id}).then((function(a){a.data.message||(t.task_data=a.data),t.$nextTick((function(){t.listwidth()}))})).catch((function(t){}))},getAttackedList:function(){var t=this;Object(d["b"])({event_id:this.$route.query.id}).then((function(a){t.attack_data=a.data})).catch((function(t){}))},competitionlist:function(){var t=this;Object(d["d"])({event_id:this.$route.query.id}).then((function(a){t.flag_data=a.data}))},hrefun:function(){this.$router.push({path:"/newAttack/environment",query:{id:this.$route.query.id,hash:this.$route.query.hash,type:this.$route.query.type}})},send_the_flag:function(){var t=this;""==this.is_flag?this.$notify.error({customClass:"error_notify",title:this.$t("public.error"),message:this.$t("selfHelp_competition.fell_flag")}):Object(d["p"])("event_id="+this.$route.query.id,{flag:this.is_flag,token:this.flag_data.token||"GuHHMJct6tNtukSSYgRjtsD27b55Cg3nQStsFgcAwR9w6"}).then((function(a){a.data.success&&t.$notify.success({title:t.$t("dialog_list.tips"),message:t.$t("api_message.submit_success")})}))},prev_handle:function(){this.list_number<0&&this.list_number++,this.change_left()},next_handle:function(){Math.abs(this.list_number)<this.n&&this.list_number--,this.change_left()},change_left:function(){h()(".one_line").css("left",this.list_number*(this.list_width+Number(this.marginR))+"px")},line_width:function(){this.marginR=h()(".task_list li").eq(0).css("marginRight").split("px")[0];var t=6;this.n=this.task_data.length-t,this.list_width=h()(".task_list li").width();var a=this.list_width*this.task_data.length+this.marginR*(this.task_data.length-1)+"px";h()(".one_line").eq(0).width(a)},listwidth:function(){var t=(h()(".guide_wrap").width()-150)/6;h()(".guide_wrap .task_list ul li").css("width",t+"px")},downloadFile:function(t,a){Object(f["a"])("/api/v1/jad/web/api/download_message/",{event_id:this.id}).then((function(t){Object(g["a"])(t)}))}}},b=m,v=(e("430f"),e("9ca4")),w=Object(v["a"])(b,_,u,!1,null,"f1f32fc6",null),k=w.exports,y=Object(r["a"])("match"),q=y.mapState,C={name:"QuestionBoard",components:{PlayerInfo:l["a"],card:k,ClickHere:o["a"],pagination:c["a"]},data:function(){return{api:{get_attachment:d["h"],get_tcp:d["i"]},task_data:[],flag_data:{},attack_data:[],match_id:this.$route.query.id,getDataTimer:null,now_look:"",flag_visible:!1,file_name:"",path_rules:"",flow_visible:!1,path_visible:!1,flowData:[],pager:{currentPage:1,pageSize:5,total:0,layout:"prev, pager, next"},tableData:[]}},computed:Object(n["a"])({},q(["userInformation","team_data"])),beforeDestroy:function(){clearInterval(this.getDataTimer)},methods:{submit_path_box:function(t){var a=this;1!=t.status&&2!=t.status&&3!=t.status||Object(d["l"])({event_id:this.match_id,challenge_id:t.challenge_id}).then((function(e){a.path_rules=e.data.rule,a.flag_visible=!0,a.now_look=t}))},changeTpc:function(t){this.file_name=t.target.files[0].name,this.f=new FormData,this.f.append("file",t.target.files[0])},submitTcp:function(){var t=this;null!=this.f?Object(d["o"])("event_id="+this.match_id+"&challenge_id="+this.now_look.challenge_id,this.f).then((function(a){a.data.success&&(t.$notify.success({title:t.$t("dialog_list.tips"),message:t.$t("writeup.upload_success")}),t.flag_visible=!1,setTimeout((function(){$("input[type='file']").val(""),t.f=null,t.file_name=t.$t("selfHelp_competition.chose_file")}),300))})):this.$notify.error({customClass:"error_notify",title:this.$t("public.error"),message:this.$t("validateform.file")})},view_flow:function(t,a){var e=this;a||(this.pager.currentPage=1,this.pager.total=0),Object(d["q"])({event_id:this.match_id,challenge_id:t.challenge_id,offset:this.pager.pageSize*(this.pager.currentPage-1),limit:this.pager.pageSize}).then((function(t){t.data.success&&(e.flowData=t.data.data.rows,e.pager.total=t.data.data.total,e.flow_visible=!0)})),this.now_look=t},view_path:function(t,a){var e=this;a||(this.pager.currentPage=1,this.pager.total=0),Object(d["f"])({event_id:this.match_id,challenge_id:t.challenge_id,offset:this.pager.pageSize*(this.pager.currentPage-1),limit:this.pager.pageSize}).then((function(t){t.data.success&&(e.tableData=t.data.data.rows,e.pager.total=t.data.data.total,e.path_visible=!0)})),this.now_look=t}}},S=C,x=(e("9d38"),e("9558"),Object(v["a"])(S,s,i,!1,null,"6cda6937",null));a["default"]=x.exports},"5b1b":function(t,a,e){},9558:function(t,a,e){"use strict";var s=e("0c36"),i=e.n(s);i.a},"9d38":function(t,a,e){"use strict";var s=e("f8c4"),i=e.n(s);i.a},f8c4:function(t,a,e){}}]);