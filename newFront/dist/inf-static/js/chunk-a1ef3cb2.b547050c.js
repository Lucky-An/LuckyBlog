(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a1ef3cb2"],{"09f4":function(t,e,a){"use strict";a.d(e,"a",(function(){return l})),Math.easeInOutQuad=function(t,e,a,r){return t/=r/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function n(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function i(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(t,e,a){var l=i(),o=t-l,s=20,c=0;e="undefined"===typeof e?500:e;var u=function t(){c+=s;var i=Math.easeInOutQuad(c,l,o,e);n(i),c<e?r(t):a&&"function"===typeof a&&a()};u()}},"1bee":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var r=function(t){var e,a,r,n,i=parseInt(t/864e5),l=parseInt(t%864e5/36e5),o=parseInt(t%36e5/6e4),s=t%6e4/1e3;localStorage.lang&&"zh"!=localStorage.lang?(e="Day",a=":",r=":",n=""):(e="天",a="时",r="分",n="秒");var c="",u="",d="";0!==i&&(c=i+'<span class="time_margin">'+e+"</span>"),u=0==l?0==i?"":'0<span class="time_margin">'+a+"</span>":l+'<span class="time_margin">'+a+"</span>",d=0==o?0==i&&0==l?"":'0<span class="time_margin">'+r+"</span>":o+'<span class="time_margin">'+r+"</span>";var p=s+'<span class="time_margin">'+n+"</span>";return c+u+d+p}},"1c2e":function(t,e,a){"use strict";var r=a("1944"),n=a("857c"),i=a("efe2"),l=a("99ad"),o="toString",s=RegExp.prototype,c=s[o],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=o;(u||d)&&r(RegExp.prototype,o,(function(){var t=n(this),e=String(t.source),a=t.flags,r=String(void 0===a&&t instanceof RegExp&&!("flags"in s)?l.call(t):a);return"/"+e+"/"+r}),{unsafe:!0})},"2a20":function(t,e,a){"use strict";var r=a("dc98"),n=a.n(r);n.a},"33ee":function(t,e,a){},"523f":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show_rank||t.matchData.public_rank?a("div",{staticClass:"rank_box",staticStyle:{position:"relative"}},[a("countDown",{staticStyle:{float:"right","margin-bottom":"20px"}}),t._t("other_nav"),a("div",[a("el-table",{staticClass:"just_table",staticStyle:{width:"100%"},attrs:{data:t.rows},on:{"row-click":t.tableClick}},[a("el-table-column",[a("el-table-column",[a("el-table-column",{attrs:{"label-class-name":"th_del","class-name":"bor_l1",label:"Rank",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(" "+t._s(e.$index+1+t.pager.pageSize*(t.pager.currentPage-1))+" ")])]}}],null,!1,3975922309)})],1)],1),a("el-table-column",[a("el-table-column",[a("el-table-column",{attrs:{"label-class-name":"th_del",label:"Name",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"user_name fcenter"},[""==e.row.obj_logo||null==e.row.obj_logo?a("span",{staticClass:"obj_logo def_logo"}):a("span",{staticClass:"obj_logo",style:"background:url("+e.row.obj_logo+");background-size:cover;"}),t.getStrNumber(e.row.obj_name,18,13)?a("span",{staticClass:"marque_box"},[a("span",[t._v(t._s(e.row.obj_name))])]):a("span",{staticClass:"marque_box"},[a("span",{staticClass:"marquee"},[t._v(t._s(e.row.obj_name)+" "+t._s(e.row.obj_name)+" "+t._s(e.row.obj_name)+" "+t._s(e.row.obj_name)+" ")])])])]}}],null,!1,3380717342)})],1)],1),a("el-table-column",[a("el-table-column",[a("el-table-column",{attrs:{"label-class-name":"th_del",prop:"sum_score",label:"Score","min-width":"50px"}})],1)],1),a("el-table-column",[a("el-table-column",[a("el-table-column",{attrs:{"label-class-name":"th_del",prop:"solved_count",label:"Solved","min-width":"100px"}})],1)],1),t._l(t.subject.rows[0],(function(e,r,n){return a("el-table-column",{key:n,attrs:{"label-class-name":"sub_type","class-name":"bor_l"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("span",{staticClass:"type_span",attrs:{title:r}},[t._v(t._s(r))])]}}],null,!0)},t._l(e,(function(e,r){return a("el-table-column",{key:r,attrs:{label:e.task.title,"label-class-name":"sub_name","class-name":0==r?"bor_l":""},scopedSlots:t._u([{key:"header",fn:function(r){return[a("span",{attrs:{title:e.task.title}},[t._v(t._s(e.task.title))])]}}],null,!0)},[a("el-table-column",{attrs:{"label-class-name":"score th_del",label:1==t.matchData.integral_mode?e.task.score.toString():e.dynamic_score.toString(),"class-name":0==r?"bor_l":"","min-width":"40px"},scopedSlots:t._u([{key:"default",fn:function(r){return[r.row[e.id]?a("div",{staticClass:"rank_logo fcenter"},[a("span",{staticClass:"rank_logo_pic pic_qi",class:{pic_1:1==r.row[e.id]["rank"],pic_2:2==r.row[e.id]["rank"],pic_3:3==r.row[e.id]["rank"]}})]):t._e()]}}],null,!0)})],1)})),1)}))],2),a("div",{staticStyle:{position:"relative"}},["zh"==t.$i18n.locale?a("div",{staticClass:"page_info"},[t._v(" 显示第 "+t._s((t.pager.currentPage-1)*t.pager.pageSize+1)+" 到第 "+t._s(t.pager.currentPage*t.pager.pageSize>t.pager.total?t.pager.total:t.pager.currentPage*t.pager.pageSize)+" 条记录，总共 "+t._s(t.pager.total)+" 条记录 ")]):a("div",{staticClass:"page_info"},[t._v(" Showing "+t._s((t.pager.currentPage-1)*t.pager.pageSize+1)+" through "+t._s(t.pager.currentPage*t.pager.pageSize>t.pager.total?t.pager.total:t.pager.currentPage*t.pager.pageSize)+" records for a total of "+t._s(t.pager.total)+" records. ")]),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.pager.total>t.pager.pageSize,expression:"pager.total > pager.pageSize"}],attrs:{total:t.pager.total,page:t.pager.currentPage,limit:t.pager.pageSize,layout:t.pager.layout},on:{"update:page":function(e){return t.$set(t.pager,"currentPage",e)},"update:limit":function(e){return t.$set(t.pager,"pageSize",e)},pagination:t.getTableData}})],1),a("el-dialog",{staticClass:"my-dialog",attrs:{title:t.$t("ranking.dialog.title_txt"),visible:t.dialogTableVisible,width:"995px"},on:{"update:visible":function(e){t.dialogTableVisible=e},close:t.closeDia}},[a("div",{staticClass:"clearfix",staticStyle:{border:"1px solid hsla(0, 0%, 100%, 0.1)",display:"flex","justify-content":"flex-start"}},[t.show_randar?a("div",{ref:"trend_chart",staticClass:"trend_chart fl",attrs:{id:"trend_chart"}}):t._e(),a("div",{staticClass:"table_full_width fl",class:{assign_w:t.show_randar}},[a("el-table",{staticClass:"userDetail scoreDetail",attrs:{data:t.gridData}},[a("el-table-column",{attrs:{prop:"username",label:t.$t("ranking.dialog.userName")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"ellipsis_txt",staticStyle:{display:"block"}},[t._v(" "+t._s(e.row.username)+" ")])]}}],null,!1,1492406021)}),a("el-table-column",{attrs:{prop:"task.title",label:t.$t("ranking.dialog.subName")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"ellipsis_txt",staticStyle:{display:"block"}},[t._v(" "+t._s(e.row.task.title)+" ")])]}}],null,!1,3841582448)}),a("el-table-column",{attrs:{label:t.$t("ranking.dialog.subType")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"ellipsis_txt",staticStyle:{display:"block"}},[t._v(" "+t._s("layered"==t.the_rank_type?e.row.task.level_name:e.row.task.category_name)+" ")])]}}],null,!1,1165895653)}),a("el-table-column",{attrs:{prop:"score",label:t.$t("ranking.dialog.score"),width:"85"}}),a("el-table-column",{attrs:{label:t.$t("ranking.dialog.status"),width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.status?t.$t("dialog_list.effective"):t.$t("dialog_list.notEffective")))])]}}],null,!1,1921579731)}),a("el-table-column",{attrs:{prop:"time",label:t.$t("ranking.dialog.subTime"),width:"160"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.detail.total>t.detail.pageSize,expression:"detail.total > detail.pageSize"}],attrs:{total:t.detail.total,page:t.detail.currentPage,limit:t.detail.pageSize,layout:t.detail.layout},on:{"update:page":function(e){return t.$set(t.detail,"currentPage",e)},"update:limit":function(e){return t.$set(t.detail,"pageSize",e)},pagination:t.getTableData}})],1)])])],1)],2):t._e()])},n=[],i=(a("fe59"),a("e35a"),a("f4e3"),a("08ba"),a("e793")),l=a("4d86"),o=a("30b2"),s=a("3951"),c=a("ed08"),u=a("52c1"),d=a("a336"),p=a.n(d),g=Object(u["a"])("match"),f=g.mapState,m={name:"CompetitionRWRank",components:{countDown:o["a"],pagination:l["a"]},props:["the_rank_type"],data:function(){return{show_randar:!0,not_click_row:!1,is_login:localStorage.isUserLogin,getStrNumber:c["a"],rank_timer:null,subject:{rows:[]},rows:[],gridData:[],pager:{currentPage:1,pageSize:50,total:0,layout:"prev, pager, next"},matchData:{},detail:{currentPage:1,pageSize:10,total:0,layout:"prev, pager, next"},dialogTableVisible:!1,radarData:{indicator:[],val:[]},detailQuery:{evt:this.$route.query.id,limit:1,offset:0},userId:"",eventHash:"",show_rank:!0}},created:function(){var t=this;this.getSubType(),this.getTableData(),this.rank_timer=setInterval((function(){t.matchData.remain_seconds>0?t.getDetail():clearInterval(t.rank_timer)}),6e4)},beforeDestroy:function(){clearInterval(this.rank_timer)},mounted:function(){},methods:{closeDia:function(){this.radarData={indicator:[],val:[]},this.detail.total=0,this.gridData=[]},getradar:function(t,e){var a=this;this.detailQuery.limit=this.detail.pageSize,this.detailQuery.offset=(this.detail.currentPage-1)*this.detail.pageSize,Object(s["m"])(this.detailQuery).then((function(t){var e=t.data;a.detail.total=e.total,a.gridData=e.rows})).catch((function(t){}))},tableClick:function(t){var e=this;if(!this.not_click_row){this.userId=t.obj_id;var a=this.subject.rows[0],r={},n=function(n){r[n]={all:0,solved:0},a[n].forEach((function(a,i){1==e.matchData.integral_mode?r[n].all+=a.task.score:r[n].all+=a.dynamic_score,t[a.id]&&(r[n].solved+=t[a.id].score)})),e.radarData.indicator.push({text:n,max:100});var i=Math.round(r[n].solved/r[n].all*100);e.radarData.val.push(i)};for(var i in a)n(i);this.dialogTableVisible=!0,this.$nextTick((function(){e.show_randar&&e.initEcharts(),1==e.match.event_mode?e.detailQuery.user=t.obj_id:e.detailQuery.team=t.obj_id,e.getradar()}))}},initEcharts:function(){var t=this.$echarts.init(this.$refs.trend_chart),e="#3173fd",a={radar:[{indicator:this.radarData.indicator,radius:50,startAngle:10,splitNumber:3,shape:"polygon",name:{formatter:"{value}",textStyle:{color:e}},splitArea:{areaStyle:{color:[],shadowColor:"rgba(0, 0, 0, 0)",shadowBlur:10}},axisLine:{lineStyle:{color:e,opacity:.5}},splitLine:{lineStyle:{color:"rgba(255,255,255,.2)"}},axisLabel:{lineStyle:{color:p()(".radarPicture").css("border-color")}}}],calculable:!0,series:[{type:"radar",itemStyle:{emphasis:{lineStyle:{width:1}}},data:[{value:this.radarData.val,areaStyle:{normal:{color:e,opacity:.25}},label:{normal:{show:!1,formatter:function(t){return t.value}}},lineStyle:{normal:{color:e}},itemStyle:{normal:{color:e}}}]}]};t.setOption(a)},getTableData:function(){var t=this;Object(s["j"])({order:"asc",offset:this.pager.pageSize*(this.pager.currentPage-1),limit:this.pager.pageSize,evt:this.$route.query.hash}).then((function(e){var a=e.data;t.pager.total=a.total,t.rows=a.rows})).catch((function(t){}))},getSubType:function(){var t=this;Object(s["i"])({evt:this.$route.query.hash}).then((function(e){console.log(e.data,"22222");var a=e.data;t.subject=a})).catch((function(t){}))}},computed:Object(i["a"])(Object(i["a"])({},Object(u["c"])(["config","match"])),f(["match"]))},b=m,_=(a("2a20"),a("8510"),a("9ca4")),h=Object(_["a"])(b,r,n,!1,null,"73508a66",null);e["default"]=h.exports},"73c3":function(t,e,a){var r=a("4fda");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},"84c2":function(t,e,a){var r=a("1e2c"),n=a("d890"),i=a("e8d6"),l=a("7063"),o=a("d910").f,s=a("b338").f,c=a("8a1c"),u=a("99ad"),d=a("22ef"),p=a("1944"),g=a("efe2"),f=a("b702").set,m=a("403f"),b=a("90fb"),_=b("match"),h=n.RegExp,v=h.prototype,w=/a/g,y=/a/g,S=new h(w)!==w,k=d.UNSUPPORTED_Y,x=r&&i("RegExp",!S||k||g((function(){return y[_]=!1,h(w)!=w||h(y)==y||"/a/i"!=h(w,"i")})));if(x){var j=function(t,e){var a,r=this instanceof j,n=c(t),i=void 0===e;if(!r&&n&&t.constructor===j&&i)return t;S?n&&!i&&(t=t.source):t instanceof j&&(i&&(e=u.call(t)),t=t.source),k&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var o=l(S?new h(t,e):h(t,e),r?this:v,j);return k&&a&&f(o,{sticky:a}),o},D=function(t){t in j||o(j,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})},z=s(h),C=0;while(z.length>C)D(z[C++]);v.constructor=j,j.prototype=v,p(n,"RegExp",j)}m("RegExp")},8510:function(t,e,a){"use strict";var r=a("33ee"),n=a.n(r);n.a},8980:function(t,e,a){var r=a("d88d"),n=a("c7e6"),i=a("2732"),l=Math.ceil,o=function(t){return function(e,a,o){var s,c,u=String(i(e)),d=u.length,p=void 0===o?" ":String(o),g=r(a);return g<=d||""==p?u:(s=g-d,c=n.call(p,l(s/p.length)),c.length>s&&(c=c.slice(0,s)),t?u+c:c+u)}};t.exports={start:o(!1),end:o(!0)}},"898e":function(t,e,a){"use strict";var r=a("1c8b"),n=a("8980").start,i=a("73c3");r({target:"String",proto:!0,forced:i},{padStart:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},c7e6:function(t,e,a){"use strict";var r=a("3da3"),n=a("2732");t.exports="".repeat||function(t){var e=String(n(this)),a="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(a+=e);return a}},dc98:function(t,e,a){},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("fe59"),a("ecb4"),a("e18c"),a("84c2"),a("e35a"),a("1c2e"),a("898e"),a("5e9f"),a("0d7a"),a("08ba"),a("f7f9");var r=function(t,e,a){var r=new RegExp("[\\u4E00-\\u9FFF]+","g");return r.test(t)?t.length<=a:t.length<=e}}}]);